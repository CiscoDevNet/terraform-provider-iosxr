
---
layout: ""
page_title: "Provider: IOSXR"
description: |-
  The IOSXR provider provides resources to interact with one or more Cisco IOS-XR devices.

---

# IOSXR Provider

The IOSXR provider provides resources to interact with one or more Cisco IOS-XR devices. The provider supports the **gNMI** (HTTP/2-based) protocol for device communication by default.

## Device Configuration
The IOSXR provider provides resources to interact with one or more Cisco IOS-XR devices using gNMI or NETCONF protocols.

## Supported Protocols

The provider supports two protocols for device communication:

- **gNMI (gRPC Network Management Interface)** - Default protocol, recommended for production use
- **NETCONF** - Alternative protocol for legacy systems or specific use cases

### gNMI (Default)

gNMI is the default protocol and requires the following device configuration:
## Device Configuration Requirements

### For gNMI (Default)

```
grpc
```

### For NETCONF

```
netconf-yang agent
 ssh
!
ssh server v2
ssh server netconf vrf default
```

All resources and data sources have been tested with the following releases.

| Platform   | Version |
| ---------- | ------- |
| XRv 9000   | 24.4.2  |
| XRd        | 24.4.2  |
| NCS 5500   | 24.4.2  |
| Cisco 8000 | 24.4.2  |

## Guides

The following guides are available to help you get started with the IOSXR provider:

- **[Manage Multiple Devices](guides/manage_multiple_devices)** - Learn how to manage multiple IOS-XR devices using provider aliases or the single-provider approach with device-level management control
- **[Selective Deploy](guides/selective_deploy)** - Deploy configurations to a subset of devices while keeping others in a "frozen" state for staged rollouts and maintenance scenarios
- **[Importing Resources](guides/importing_resources)** - Import existing device configurations into Terraform state management
- **[Destroying Resources](guides/destroying_resources)** - Control resource destruction behavior using delete modes
- **[Changelog](guides/changelog)** - Review version history and breaking changes

## Example Usage

### Using gNMI (Default)

```terraform
provider "iosxr" {
  username = "admin"
  password = "password"
  host     = "10.1.1.1"
  protocol = "gnmi"  # Optional, gnmi is the default
}
```

### Using NETCONF

```terraform
provider "iosxr" {
  username = "admin"
  password = "password"
  host     = "10.1.1.1"  # Default NETCONF port is 830
  protocol = "netconf"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `auto_commit` (Boolean) Automatically commit configuration changes after each resource operation. When `true` (default), each resource commits its changes immediately. When `false`, changes are left in the candidate datastore and must be explicitly committed using the `iosxr_commit` resource. **Requires reuse_connection=true when disabled**. Only applies to NETCONF protocol with candidate datastore support. This can also be set as the IOSXR_AUTO_COMMIT environment variable. Defaults to `true`.
- `ca_certificate` (String) TLS CA certificate content. This can also be set as the IOSXR_CA_CERTIFICATE environment variable.
- `certificate` (String) TLS certificate content. This can also be set as the IOSXR_CERTIFICATE environment variable.
- `devices` (Attributes List) This can be used to manage a list of devices from a single provider. All devices must use the same credentials. Each resource and data source has an optional attribute named `device`, which can then select a device by its name from this list. (see [below for nested schema](#nestedatt--devices))
- `host` (String) Hostname or IP address of the Cisco IOS-XR device. Optionally a port can be added with `:port`. Default port is `57400` for gNMI and `830` for NETCONF. This can also be set as the IOSXR_HOST environment variable.
- `key` (String) TLS private key content. This can also be set as the IOSXR_KEY environment variable.
- `lock_release_timeout` (Number) Number of seconds to wait for the device database lock to be released. This can also be set as the IOSXR_LOCK_RELEASE_TIMEOUT environment variable. Defaults to `120`.
- `password` (String, Sensitive) Password for the IOS-XR device. This can also be set as the IOSXR_PASSWORD environment variable.
- `protocol` (String) Protocol to use for device communication. Either `gnmi` or `netconf` (SSH). This can also be set as the IOSXR_PROTOCOL environment variable. Defaults to `gnmi`.
- `retries` (Number) Number of retries for API calls. This can also be set as the IOSXR_RETRIES environment variable. Defaults to `3`.
- `reuse_connection` (Boolean) Keep connections open between operations for better performance. **Required when auto_commit=false** - Manual commit mode requires persistent connections to maintain staged candidate configuration changes. When disabled, connections are closed and reopened for each operation. Only applies to NETCONF protocol. This can also be set as the IOSXR_REUSE_CONNECTION environment variable. Defaults to `true`.
- `selected_devices` (List of String) This can be used to select a list of devices to manage from the `devices` list. Selected devices will be managed while other devices will be skipped and their state will be frozen. This can be used to deploy changes to a subset of devices. Defaults to all devices.
- `tls` (Boolean) Use TLS. This can also be set as the IOSXR_TLS environment variable. Defaults to `true`.
- `username` (String) Username for the IOS-XR device. This can also be set as the IOSXR_USERNAME environment variable.
- `verify_certificate` (Boolean) Verify target certificate. This can also be set as the IOSXR_VERIFY_CERTIFICATE environment variable. Defaults to `false`.

<a id="nestedatt--devices"></a>
### Nested Schema for `devices`

Required:

- `host` (String) IP of the Cisco IOS-XR device.
- `name` (String) Device name.

Optional:

- `managed` (Boolean) Enable or disable device management. This can be used to temporarily skip a device due to maintenance for example. Defaults to `true`.
