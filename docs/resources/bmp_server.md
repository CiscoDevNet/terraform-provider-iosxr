---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_bmp_server Resource - terraform-provider-iosxr"
subcategory: "BGP"
description: |-
  This resource can manage the BMP Server configuration.
---

# iosxr_bmp_server (Resource)

This resource can manage the BMP Server configuration.

## Example Usage

```terraform
resource "iosxr_bmp_server" "example" {
  all_route_monitorings = [
    {
      route_mon              = "inbound-pre-policy"
      advertisement_interval = 60
      scan_time              = 5
    }
  ]
  all_max_buffer_size = 15
  servers = [
    {
      number                 = 1
      shutdown               = false
      host                   = "192.168.1.100"
      port                   = 5000
      initial_delay          = 60
      flapping_delay         = 300
      initial_refresh_delay  = 30
      initial_refresh_spread = 60
      stats_reporting_period = 60
      description            = "BMP Server 1"
      dscp_value             = "ef"
      update_source          = "Loopback0"
      vrf                    = "OOB"
      tcp_mss                = 1460
      tcp_keep_alive         = 60
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `all_max_buffer_size` (Number) Maximum buffer limit upto which BMP messages will be queued to TCP sockets. If total size of BMP messages queued up for BMP sockets exceeds this set limit, messages will be dropped. The maximum buf-size is 20% and default buf-size is 15% of the platform virtual memory max-limit (aka rlimit). Please run show bgp process performance-statistics to see the individual values. Unit is in MegaBytes.
  - Range: `1`-`4096`
- `all_route_mirroring_inbound_pre_policy` (Boolean) Mirror inbound route updates before policy application
- `all_route_monitorings` (Attributes List) Enable Route Monitoring capability for the BMP servers.nBGP update messages will be regenerated with a table walkn (see [below for nested schema](#nestedatt--all_route_monitorings))
- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `device` (String) A device name from the provider configuration.
- `servers` (Attributes List) BMP server configuration (see [below for nested schema](#nestedatt--servers))

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--all_route_monitorings"></a>
### Nested Schema for `all_route_monitorings`

Required:

- `route_mon` (String) Enable Route Monitoring capability for the BMP servers.nBGP update messages will be regenerated with a table walkn
  - Choices: `inbound-post-policy`, `inbound-pre-policy`, `local-rib`

Optional:

- `advertisement_interval` (Number) Minimum interval between updates sent to BMP servers
  - Range: `2`-`600`
- `scan_time` (Number) Configure scanner interval
  - Range: `5`-`3600`


<a id="nestedatt--servers"></a>
### Nested Schema for `servers`

Required:

- `number` (Number) BMP server ID to configure
  - Range: `1`-`8`

Optional:

- `description` (String) BMP server specific description
- `dscp_value` (String) Set IP DSCP (DiffServ CodePoint)
- `flapping_delay` (Number) delay in connecting to BMP Server after a flap had been detected. Default=300
  - Range: `60`-`3600`
- `host` (String) Name of the BMP server(accepts IP Address format too)
- `initial_delay` (Number) Initial connect delay in sending BMP server updates. Default=0
  - Range: `1`-`3600`
- `initial_refresh_delay` (Number) Initial delay before sending route refresh request
  - Range: `1`-`3600`
- `initial_refresh_skip` (Boolean) Skip sending Refresh request to Peers
- `initial_refresh_spread` (Number) Maximum additional random delay for initial Refresh Request
  - Range: `1`-`3600`
- `port` (Number) BMP Server Listen Port
  - Range: `1`-`65535`
- `precedence_value` (String) Set precedence
- `shutdown` (Boolean) Shutdown connection to BMP server
- `stats_reporting_period` (Number) Stats reporting period for BMP server. Default=0
  - Range: `1`-`3600`
- `tcp_keep_alive` (Number) configure TCP keep alives to be exchanged between client and server
  - Range: `0`-`7200`
- `tcp_mss` (Number) configure TCP maximum segment size
  - Range: `68`-`10000`
- `update_source` (String) Source to reach BMP server
- `vrf` (String) VRF for the BMP server

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_bmp_server.example ""
```
