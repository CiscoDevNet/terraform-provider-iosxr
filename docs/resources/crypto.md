---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_crypto Resource - terraform-provider-iosxr"
subcategory: "Crypto"
description: |-
  This resource can manage the Crypto configuration.
---

# iosxr_crypto (Resource)

This resource can manage the Crypto configuration.

## Example Usage

```terraform
resource "iosxr_crypto" "example" {
  ca_trustpoint_system_description                  = "System trustpoint description"
  ca_trustpoint_system_enrollment_retry_count       = 10
  ca_trustpoint_system_enrollment_retry_period      = 5
  ca_trustpoint_system_enrollment_url               = "http://ca.example.com"
  ca_trustpoint_system_sftp_username                = "sftpuser"
  ca_trustpoint_system_sftp_password                = "1511021F0725"
  ca_trustpoint_system_auto_enroll                  = 80
  ca_trustpoint_system_renewal_message_type_pkcsreq = true
  ca_trustpoint_system_skip_challenge_password      = true
  ca_trustpoint_system_rsa_keypair                  = "KEY1"
  ca_trustpoint_system_ca_keypair_ecdsanistp521     = "KEY4"
  ca_trustpoint_system_crl_optional                 = true
  ca_trustpoint_system_query_url                    = "ldap://ca.example.com/certsrv"
  ca_trustpoint_system_ip_address                   = "10.1.1.1"
  ca_trustpoint_system_subject_name                 = "CN=Router1,OU=Network,O=Example,C=US"
  ca_trustpoint_system_subject_name_ca_certificate  = "CN=CA,OU=Security,O=Example,C=US"
  ca_trustpoint_system_subject_alternative_name     = "DNS:router1.example.com,IP:192.168.1.1"
  ca_trustpoint_system_serial_number                = true
  ca_trustpoint_system_vrf                          = "VRF1"
  ca_trustpoint_system_lifetime_ca_certificate      = 90
  ca_trustpoint_system_lifetime_certificate         = 90
  ca_trustpoint_system_message_digest               = "sha256"
  ca_trustpoints = [
    {
      trustpoint_name                   = "TP1"
      description                       = "Custom trustpoint"
      enrollment_retry_count            = 10
      enrollment_retry_period           = 5
      enrollment_url                    = "http://ca.example.com"
      sftp_username                     = "sftpuser"
      sftp_password                     = "1511021F0725"
      auto_enroll                       = 80
      renewal_message_type_renewalreq   = true
      skip_challenge_password           = true
      rsakeypair                        = "KEY1"
      crl_optional                      = true
      query_url                         = "ldap://ca.example.com/certsrv"
      ip_address                        = "10.1.1.2"
      subject_name                      = "CN=Router2,OU=Network,O=Example,C=US"
      subject_alternative_name          = "DNS:router2.example.com,IP:192.168.1.2"
      serial_number                     = true
      vrf                               = "VRF1"
      message_digest                    = "sha256"
      method_est_credential_certificate = "EST-BOOTSTRAP"
    }
  ]
  ca_openssh_trustpoints = [
    {
      trustpoint_name = "OPENSSH-TP1"
      rsakeypair      = "KEY1"
    }
  ]
  ca_http_proxy                  = "proxy.example.com"
  ca_http_proxy_port             = 8080
  ca_source_interface_ipv4       = "Loopback0"
  ca_rsa_1024_disable            = true
  ca_fqdn_check_ip_address_allow = true
  ca_crl_curl_timeout            = 10
  fips_mode                      = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `ca_crl_curl_timeout` (Number) timeout value in seconds for a CURL request to timeout
  - Range: `5`-`50`
- `ca_fqdn_check_ip_address_allow` (Boolean) allow TLS connection when CN contains IP address
- `ca_http_proxy` (String) Specify proxy server for http request
- `ca_http_proxy_port` (Number) proxy server port number
  - Range: `1`-`65535`
- `ca_openssh_trustpoints` (Attributes List) Config a trustpoint (see [below for nested schema](#nestedatt--ca_openssh_trustpoints))
- `ca_rsa_1024_disable` (Boolean) Disable Trustpool certificates with RSA modulus 1024
- `ca_source_interface_ipv4` (String) Choose Ipv4 address from interface
- `ca_source_interface_ipv6` (String) Choose Ipv6 address from interface
- `ca_trustpoint_system_auto_enroll` (Number) Set auto-enroll percentage at which renewal will be triggered
  - Range: `1`-`99`
- `ca_trustpoint_system_ca_keypair_dsa` (String) Self enrollment, dsa key pair label
- `ca_trustpoint_system_ca_keypair_ecdsanistp256` (String) Self enrollment, ecdsa key pair
- `ca_trustpoint_system_ca_keypair_ecdsanistp384` (String) Self enrollment, ecdsa key pair
- `ca_trustpoint_system_ca_keypair_ecdsanistp521` (String) Self enrollment, ecdsa key pair
- `ca_trustpoint_system_ca_keypair_ed25519` (String) ed25519 key pair label
- `ca_trustpoint_system_ca_keypair_rsa` (String) Self enrollment, rsa key pair
- `ca_trustpoint_system_crl_optional` (Boolean) CRL verification as optional
- `ca_trustpoint_system_description` (String) Description for the trustpoint
- `ca_trustpoint_system_enrollment_retry_count` (Number) How many times to poll CA for our certificate
  - Range: `1`-`100`
- `ca_trustpoint_system_enrollment_retry_period` (Number) How long to wait between requests to CA for our certificate
  - Range: `1`-`60`
- `ca_trustpoint_system_enrollment_self` (Boolean) Enroll self create self signed CA cert and the router cert signed using the same
- `ca_trustpoint_system_enrollment_terminal` (Boolean) Enroll via the terminal (cut-and-paste)
- `ca_trustpoint_system_enrollment_url` (String) CA server enrollment URL
- `ca_trustpoint_system_ip_address` (String) ip address
- `ca_trustpoint_system_ip_address_none` (Boolean) do not include ip address
- `ca_trustpoint_system_keypair_dsa` (String) Dsa key pair label
- `ca_trustpoint_system_keypair_ecdsanistp256` (String) Ecdsa key pair
- `ca_trustpoint_system_keypair_ecdsanistp384` (String) Self enrollment, ecdsa key pair
- `ca_trustpoint_system_keypair_ecdsanistp521` (String) Self enrollment, ecdsa key pair
- `ca_trustpoint_system_keypair_ed25519` (String) ed25519 key pair label
- `ca_trustpoint_system_keypair_rsa` (String) Rsa key pair
- `ca_trustpoint_system_lifetime_ca_certificate` (Number) lifetime for ca-certificate valid for self enrollemnt
  - Range: `30`-`5475`
- `ca_trustpoint_system_lifetime_certificate` (Number) lifetime for ertificate valid for self enrollemnt
  - Range: `30`-`5474`
- `ca_trustpoint_system_message_digest` (String) Certificate message digesti self enrollment
  - Choices: `md5`, `sha1`, `sha256`, `sha384`, `sha512`
- `ca_trustpoint_system_query_url` (String) CA server query URL
- `ca_trustpoint_system_renewal_message_type_pkcsreq` (Boolean) Message type PKCSReq(Default)
- `ca_trustpoint_system_renewal_message_type_renewalreq` (Boolean) Message type RenewalReq
- `ca_trustpoint_system_rsa_keypair` (String) RSA key pair
- `ca_trustpoint_system_serial_number` (Boolean) include serial number
- `ca_trustpoint_system_serial_number_none` (Boolean) do not include serial number
- `ca_trustpoint_system_sftp_password` (String) Enter password in encrypted form
- `ca_trustpoint_system_sftp_username` (String) Secure FTP username
- `ca_trustpoint_system_skip_challenge_password` (Boolean) Skip challenge password attribute for manual enrollment request
- `ca_trustpoint_system_subject_alternative_name` (String) Include Subject Alternative Name(SAN) in CSR request
- `ca_trustpoint_system_subject_name` (String) Subject Name
- `ca_trustpoint_system_subject_name_ca_certificate` (String) Ca Certificate subject name for self enrollment
- `ca_trustpoint_system_vrf` (String) Source interface VRF
- `ca_trustpoints` (Attributes List) Trustpoint (see [below for nested schema](#nestedatt--ca_trustpoints))
- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `device` (String) A device name from the provider configuration.
- `fips_mode` (Boolean) Enable FIPS mode

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--ca_openssh_trustpoints"></a>
### Nested Schema for `ca_openssh_trustpoints`

Required:

- `trustpoint_name` (String) Config a trustpoint

Optional:

- `rsakeypair` (String) RSA key pair


<a id="nestedatt--ca_trustpoints"></a>
### Nested Schema for `ca_trustpoints`

Required:

- `trustpoint_name` (String) Trustpoint Name

Optional:

- `auto_enroll` (Number) Set auto-enroll percentage at which renewal will be triggered
  - Range: `1`-`99`
- `crl_optional` (Boolean) CRL verification as optional
- `description` (String) Description for the trustpoint
- `enrollment_retry_count` (Number) How many times to poll CA for our certificate
  - Range: `1`-`100`
- `enrollment_retry_period` (Number) How long to wait between requests to CA for our certificate
  - Range: `1`-`60`
- `enrollment_terminal` (Boolean) Enroll via the terminal (cut-and-paste)
- `enrollment_url` (String) CA server enrollment URL
- `ip_address` (String) ip address
- `ip_address_none` (Boolean) do not include ip address
- `message_digest` (String) Certificate message digesti self enrollment
  - Choices: `md5`, `sha1`, `sha256`, `sha384`, `sha512`
- `method_est_credential_certificate` (String) Certificate based authentication in TLS handshake during bootstrap
- `query_url` (String) CA server query URL
- `renewal_message_type_pkcsreq` (Boolean) Message type PKCSReq(Default)
- `renewal_message_type_renewalreq` (Boolean) Message type RenewalReq
- `rsakeypair` (String) RSA key pair
- `serial_number` (Boolean) include serial number
- `serial_number_none` (Boolean) do not include serial number
- `sftp_password` (String, Sensitive) Enter password in encrypted form
- `sftp_username` (String) Secure FTP username
- `skip_challenge_password` (Boolean) Skip challenge password attribute for manual enrollment request
- `subject_alternative_name` (String) Include Subject Alternative Name(SAN) in CSR request
- `subject_name` (String) Subject Name
- `vrf` (String) Source interface VRF

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_crypto.example ""
```
