---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_ethernet_cfm Resource - terraform-provider-iosxr"
subcategory: "L2VPN"
description: |-
  This resource can manage the Ethernet CFM configuration.
---

# iosxr_ethernet_cfm (Resource)

This resource can manage the Ethernet CFM configuration.

## Example Usage

```terraform
resource "iosxr_ethernet_cfm" "example" {
  traceroute_cache_hold_time = 60
  traceroute_cache_size      = 3000
  domains = [
    {
      domain_name            = "DOMAIN1"
      level                  = 5
      id_mac_address         = "00:11:22:33:44:55"
      id_mac_address_integer = 100
      services = [
        {
          service_name                             = "SERVICE1"
          xconnect_p2p_group_name                  = "XC-GROUP1"
          xconnect_p2p_xc_name                     = "XC-P2P1"
          id_icc_based_icc                         = "ICC1"
          id_icc_based_umc                         = "UMC1"
          tags                                     = "1"
          mip_auto_create_lower_mep_only           = true
          mip_auto_create_ccm_learning             = true
          continuity_check_interval                = "1s"
          continuity_check_interval_loss_threshold = 5
          continuity_check_archive_hold_time       = 60
          continuity_check_loss_auto_traceroute    = true
          maximum_meps                             = 100
          ais_transmission_interval                = "1s"
          ais_transmission_cos                     = 5
          log_continuity_check_mep_changes         = true
          log_continuity_check_errors              = true
          log_crosscheck_errors                    = true
          log_ais                                  = true
          log_csf                                  = true
          mep_crosschecks = [
            {
              mep_id      = 5
              mac_address = "00:11:22:33:44:55"
            }
          ]
          mep_crosscheck_auto = true
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `device` (String) A device name from the provider configuration.
- `domains` (Attributes List) Configuration for a particular Maintenance Domain (see [below for nested schema](#nestedatt--domains))
- `traceroute_cache_hold_time` (Number) Traceroute cache hold-time
  - Range: `1`-`525600`
- `traceroute_cache_size` (Number) Traceroute cache size (number of replies)
  - Range: `1`-`4294967295`

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--domains"></a>
### Nested Schema for `domains`

Required:

- `domain_name` (String) Domain name
- `level` (Number) Maintenance Domain Level
  - Range: `0`-`7`

Optional:

- `id_dns` (String) DNS Name
- `id_mac_address` (String) MAC Address
- `id_mac_address_integer` (Number) 2 Octet integer
  - Range: `0`-`65535`
- `id_null` (Boolean) No MDID value
- `id_string` (String) String
- `services` (Attributes List) Per service configuration (see [below for nested schema](#nestedatt--domains--services))

<a id="nestedatt--domains--services"></a>
### Nested Schema for `domains.services`

Required:

- `service_name` (String) Service name

Optional:

- `ais_transmission_cos` (Number) Specify CoS bits for AIS messages
  - Range: `0`-`7`
- `ais_transmission_interval` (String) Specify the AIS transmission interval
  - Choices: `1m`, `1s`
- `bridge_domain` (String) Bridge Domain Name
- `bridge_group` (String) Bridge Domain Group Name
- `continuity_check_archive_hold_time` (Number) Set the continuity-check archive hold time
  - Range: `1`-`65535`
- `continuity_check_interval` (String) The number of tags to use when sending CFM packets from up MEPs in this service
  - Choices: `100ms`, `10m`, `10ms`, `10s`, `1m`, `1s`, `3.3ms`
- `continuity_check_interval_loss_threshold` (Number) Set the continuity-check loss threshold
  - Range: `2`-`255`
- `continuity_check_loss_auto_traceroute` (Boolean) Automatically trigger a traceroute when a MEP times out
- `down_meps` (Boolean) Down MEPs; no MIPs permitted
- `efd` (Boolean) Enable EFD to bring down ports when MEPs detect errors
- `efd_protection_switching` (Boolean) Enable protection switching notifications when triggering EFD
- `flexible_xconnect_vlan_aware_evi` (Number) EVPN ID
  - Range: `1`-`65534`
- `flexible_xconnect_vlan_unaware_name` (String) VLAN-unaware Flexible Cross Connect name
- `id_icc_based_icc` (String) ITU Carrier Code (ICC)
- `id_icc_based_umc` (String) Unique MEG ID Code (UMC)
- `id_number` (Number) Number
  - Range: `0`-`65535`
- `id_string` (String) String
- `id_vlan_id` (Number) VLAN ID
  - Range: `1`-`4094`
- `id_vpn_id_index` (Number) 4 byte VPN Index, HHHH
  - Range: `0`-`4294967295`
- `id_vpn_id_oui` (Number) 3 byte VPN OUI, HHH
  - Range: `0`-`16777215`
- `log_ais` (Boolean) Enable logging when AIS or LCK messages are received
- `log_continuity_check_errors` (Boolean) Enable logging when continuity-check errors are detected
- `log_continuity_check_mep_changes` (Boolean) Enable logging on peer MEP state changes
- `log_crosscheck_errors` (Boolean) Enable logging when crosscheck errors are detected
- `log_csf` (Boolean) Enable logging of CSF events
- `log_efd` (Boolean) Enable logging of EFD events
- `maximum_meps` (Number) Limit the number of MEPs in the Maintenance Association
  - Range: `2`-`8190`
- `mep_crosscheck_auto` (Boolean) Treat all remote MEPs for which CCMs are received as cross-check MEPs
- `mep_crosschecks` (Attributes List) Specify crosscheck config for a given MEP ID (see [below for nested schema](#nestedatt--domains--services--mep_crosschecks))
- `mip_auto_create_all` (Boolean) Create MIPs on all interfaces
- `mip_auto_create_ccm_learning` (Boolean) Enable CCM learning at MIPs created in this service
- `mip_auto_create_lower_mep_only` (Boolean) Create MIPs only on interfaces with a MEP at a lower level
- `report_defects_all` (Boolean) All defects reported, including received RDI
- `report_defects_ieee_error_xcon` (Boolean) Above defects reported, plus DefErrorCCM
- `report_defects_ieee_mac_remote_error_xcon` (Boolean) Above defects reported, plus DefMACStatus (default)
- `report_defects_ieee_remote_error_xcon` (Boolean) Above defects reported, plus DefRemoteCCM
- `report_defects_ieee_xcon` (Boolean) Report only DefXconCCM
- `report_defects_missing` (Boolean) Some CCMs from a crosscheck peer MEP are missing
- `report_defects_none` (Boolean) No defects reported
- `report_defects_our_mac` (Boolean) CCMs received with our MAC address
- `report_defects_our_mepid` (Boolean) CCMs received with our MEP-ID
- `report_defects_peer_port_down` (Boolean) A peer port is down (equivalent to DefMACStatus)
- `report_defects_rdi` (Boolean) CCMs containing the RDI bit received
- `report_defects_wrong_interval` (Boolean) CCMs received with an incorrect CCM interval
- `report_defects_wrong_level` (Boolean) CCMs received with an incorrect level
- `report_defects_wrong_maid` (Boolean) CCMs received with an incorrect MAID
- `tags` (String) The number of tags to use when sending CFM packets from up MEPs in this service
  - Choices: `1`
- `xconnect_mp2mp_ce_id` (Number) Local Customer Edge Identifier
  - Range: `1`-`16384`
- `xconnect_mp2mp_group` (String) Cross Connect Group
- `xconnect_mp2mp_name` (String) Cross Connect Name
- `xconnect_mp2mp_remote_ce_id` (Number) Remote Customer Edge Identifier
  - Range: `1`-`16384`
- `xconnect_p2p_group_name` (String) Cross Connect Group
- `xconnect_p2p_xc_name` (String) Cross Connect Name

<a id="nestedatt--domains--services--mep_crosschecks"></a>
### Nested Schema for `domains.services.mep_crosschecks`

Required:

- `mep_id` (Number) Specify crosscheck config for a given MEP ID
  - Range: `1`-`8191`

Optional:

- `mac_address` (String) Expected MAC Address for the specified MEP

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_ethernet_cfm.example ""
```
