---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_l2vpn Resource - terraform-provider-iosxr"
subcategory: "L2VPN"
description: |-
  This resource can manage the L2VPN configuration.
---

# iosxr_l2vpn (Resource)

This resource can manage the L2VPN configuration.

## Example Usage

```terraform
resource "iosxr_l2vpn" "example" {
  description = "My L2VPN Description"
  router_id   = "1.2.3.4"
  redundancy_iccp_groups = [
    {
      group_number = 100
      interfaces = [
        {
          interface_name    = "Bundle-Ether20"
          primary_vlan      = "10-15"
          secondary_vlan    = "20-25"
          mac_flush_stp_tcn = true
          recovery_delay    = 60
        }
      ]
      multi_homing_node_id = 1
    }
  ]
  flexible_xconnect_service_vlan_unaware = [
    {
      service_name = "XC-1"
      interfaces = [
        {
          interface_name = "GigabitEthernet0/0/0/1.100"
        }
      ]
      neighbor_evpn_evis = [
        {
          vpn_id       = 100
          remote_ac_id = 1000
        }
      ]
    }
  ]
  flexible_xconnect_service_vlan_aware_evis = [
    {
      vpn_id = 200
      interfaces = [
        {
          interface_name = "GigabitEthernet0/0/0/2.200"
        }
      ]
    }
  ]
  ignore_mtu_mismatch                                          = true
  ignore_mtu_mismatch_ad                                       = true
  pw_status_disable                                            = true
  load_balancing_flow_src_dst_mac                              = false
  load_balancing_flow_src_dst_ip                               = true
  capability_high_mode                                         = true
  pw_oam_refresh_transmit                                      = 20
  tcn_propagation                                              = true
  pw_grouping                                                  = true
  neighbors_all_ldp_flap                                       = true
  mac_limit_threshold                                          = 50
  logging_pseudowire                                           = true
  logging_bridge_domain                                        = true
  logging_vfi                                                  = true
  logging_nsr                                                  = true
  logging_pwhe_replication_disable                             = true
  autodiscovery_bgp_signaling_protocol_bgp_mtu_mismatch_ignore = true
  pw_routing_global_id                                         = 100
  pw_routing_bgp_rd_four_byte_as_number                        = 65536
  pw_routing_bgp_rd_four_byte_as_assigned_number               = 1
  snmp_mib_interface_format_external                           = true
  snmp_mib_pseudowire_statistics                               = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `autodiscovery_bgp_signaling_protocol_bgp_mtu_mismatch_ignore` (Boolean) Ignore MTU mismatch for auto-discovered PWs
- `capability_high_mode` (Boolean) Compute global capability as the highest node capability
- `capability_single_mode` (Boolean) Disable global capability re-computation
- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `description` (String) Multi segment psedowire global description
- `device` (String) A device name from the provider configuration.
- `flexible_xconnect_service_vlan_aware_evis` (Attributes List) Ethernet VPN Identifier (see [below for nested schema](#nestedatt--flexible_xconnect_service_vlan_aware_evis))
- `flexible_xconnect_service_vlan_unaware` (Attributes List) Configure in vlan-unaware mode (see [below for nested schema](#nestedatt--flexible_xconnect_service_vlan_unaware))
- `ignore_mtu_mismatch` (Boolean) Ignore MTU mismatch for all L2VPN
- `ignore_mtu_mismatch_ad` (Boolean) Ignore MTU mismatch for auto-discovered PWs
- `load_balancing_flow_src_dst_ip` (Boolean) Use source and destination IP addresses for hashing
- `load_balancing_flow_src_dst_mac` (Boolean) Use source and destination MAC addresses for hashing
- `logging_bridge_domain` (Boolean) Enable bridge-domain logging
- `logging_nsr` (Boolean) Enable Non-Stop Routing logging
- `logging_pseudowire` (Boolean) Enable pseudowire logging
- `logging_pwhe_replication_disable` (Boolean) disable PWHE replication failure/success logging
- `logging_vfi` (Boolean) Enable VFI logging
- `mac_limit_threshold` (Number) Global MAC limit threshold
  - Range: `1`-`100`
- `neighbors_all_ldp_flap` (Boolean) Forcing targetted-sesion flapping
- `pw_grouping` (Boolean) Enable PW-Grouping
- `pw_oam_refresh_transmit` (Number) Transmit
  - Range: `1`-`4095`
- `pw_routing_bgp_rd_four_byte_as_assigned_number` (Number) AS:nn (hex or decimal format)
  - Range: `0`-`65535`
- `pw_routing_bgp_rd_four_byte_as_number` (Number) Four Byte AS number
  - Range: `65536`-`4294967295`
- `pw_routing_bgp_rd_ipv4_address` (String) IP address
- `pw_routing_bgp_rd_ipv4_address_assigned_number` (Number) IP-address:nn (hex or decimal format)
  - Range: `0`-`65535`
- `pw_routing_bgp_rd_two_byte_as_assigned_number` (Number) AS:nn (hex or decimal format)
  - Range: `0`-`4294967295`
- `pw_routing_bgp_rd_two_byte_as_number` (Number) Two Byte AS Number
  - Range: `1`-`65535`
- `pw_routing_global_id` (Number) Configure l2vpn pseudowire routing global id
  - Range: `1`-`4294967295`
- `pw_status_disable` (Boolean) Disable PW status
- `redundancy_iccp_groups` (Attributes List) Group configuration (see [below for nested schema](#nestedatt--redundancy_iccp_groups))
- `router_id` (String) Global L2VPN Router ID
- `snmp_mib_interface_format_external` (Boolean) Set MIB interface name output format to external using slash
- `snmp_mib_pseudowire_statistics` (Boolean) Enable MIB pseudowire statistics (for low scale, <16K PWs)
- `tcn_propagation` (Boolean) Enable topology change notification propagation

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--flexible_xconnect_service_vlan_aware_evis"></a>
### Nested Schema for `flexible_xconnect_service_vlan_aware_evis`

Required:

- `vpn_id` (Number) Ethernet VPN Identifier
  - Range: `1`-`65534`

Optional:

- `interfaces` (Attributes List) Specify sub-interface name to attach to flexible xconnect service (see [below for nested schema](#nestedatt--flexible_xconnect_service_vlan_aware_evis--interfaces))

<a id="nestedatt--flexible_xconnect_service_vlan_aware_evis--interfaces"></a>
### Nested Schema for `flexible_xconnect_service_vlan_aware_evis.interfaces`

Required:

- `interface_name` (String) Specify sub-interface name to attach to flexible xconnect service



<a id="nestedatt--flexible_xconnect_service_vlan_unaware"></a>
### Nested Schema for `flexible_xconnect_service_vlan_unaware`

Required:

- `service_name` (String) Configure in vlan-unaware mode

Optional:

- `interfaces` (Attributes List) Specify sub-interface name to attach to flexible xconnect service (see [below for nested schema](#nestedatt--flexible_xconnect_service_vlan_unaware--interfaces))
- `neighbor_evpn_evis` (Attributes List) Ethernet VPN Identifier (see [below for nested schema](#nestedatt--flexible_xconnect_service_vlan_unaware--neighbor_evpn_evis))

<a id="nestedatt--flexible_xconnect_service_vlan_unaware--interfaces"></a>
### Nested Schema for `flexible_xconnect_service_vlan_unaware.interfaces`

Required:

- `interface_name` (String) Specify sub-interface name to attach to flexible xconnect service


<a id="nestedatt--flexible_xconnect_service_vlan_unaware--neighbor_evpn_evis"></a>
### Nested Schema for `flexible_xconnect_service_vlan_unaware.neighbor_evpn_evis`

Required:

- `remote_ac_id` (Number) Specify remote attachment circuit identifier
  - Range: `1`-`16777215`
- `vpn_id` (Number) Ethernet VPN Identifier
  - Range: `1`-`65534`



<a id="nestedatt--redundancy_iccp_groups"></a>
### Nested Schema for `redundancy_iccp_groups`

Required:

- `group_number` (Number) Group configuration
  - Range: `1`-`4294967295`

Optional:

- `interfaces` (Attributes List) Interface name (see [below for nested schema](#nestedatt--redundancy_iccp_groups--interfaces))
- `multi_homing_node_id` (Number) Enter multi-homing node ID
  - Range: `0`-`254`

<a id="nestedatt--redundancy_iccp_groups--interfaces"></a>
### Nested Schema for `redundancy_iccp_groups.interfaces`

Required:

- `interface_name` (String) Interface name

Optional:

- `mac_flush_stp_tcn` (Boolean) STP topology change notification
- `primary_vlan` (String) Assign primary VLANs
- `recovery_delay` (Number) Specify delay before recovery reversion after failure clears
  - Range: `30`-`3600`
- `secondary_vlan` (String) Assign secondary VLANs

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_l2vpn.example ""
```
