---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_ntp Resource - terraform-provider-iosxr"
subcategory: "System"
description: |-
  This resource can manage the NTP configuration.
---

# iosxr_ntp (Resource)

This resource can manage the NTP configuration.

## Example Usage

```terraform
resource "iosxr_ntp" "example" {
  ipv4_precedence              = "network"
  ipv6_dscp                    = "af11"
  access_group_ipv6_peer       = "peer1"
  access_group_ipv6_query_only = "query1"
  access_group_ipv6_serve      = "serve1"
  access_group_ipv6_serve_only = "serve-only123"
  access_group_ipv4_peer       = "peer1"
  access_group_ipv4_query_only = "query1"
  access_group_ipv4_serve      = "serve1"
  access_group_ipv4_serve_only = "serve-only123"
  access_group_vrfs = [
    {
      vrf_name        = "ntp_vrf"
      ipv6_peer       = "peer1"
      ipv6_query_only = "query1"
      ipv6_serve      = "serve1"
      ipv6_serve_only = "serve-only123"
      ipv4_peer       = "peer1"
      ipv4_query_only = "query1"
      ipv4_serve      = "serve1"
      ipv4_serve_only = "serve-only123"
    }
  ]
  authenticate = true
  authentication_keys = [
    {
      key_number    = 10
      md5_encrypted = "1212000E43"
    }
  ]
  broadcastdelay   = 10
  max_associations = 1
  trusted_keys = [
    {
      key_number = 8
    }
  ]
  update_calendar       = true
  log_internal_sync     = true
  source_interface_name = "BVI1"
  source_vrfs = [
    {
      vrf_name       = "source_vrf"
      interface_name = "BVI1"
    }
  ]
  passive = true
  cmac_authentication_keys = [
    {
      key_number     = 2
      cmac_encrypted = "135445415F59527D737D78626771475240"
    }
  ]
  hmac_sha1_authentication_keys = [
    {
      key_number          = 3
      hmac_sha1_encrypted = "101F5B4A5142445C545D7A7A767B676074"
    }
  ]
  hmac_sha2_authentication_keys = [
    {
      key_number          = 4
      hmac_sha2_encrypted = "091D1C5A4D5041455355547B79777C6663"
    }
  ]
  ipv4_peers_servers = [
    {
      address = "1.2.3.4"
      type    = "server"
      version = 2
      key     = 1
      minpoll = 4
      maxpoll = 5
      prefer  = true
      burst   = true
      iburst  = true
      source  = "GigabitEthernet0/0/0/1"
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `access_group_ipv4_peer` (String) Provide full access
- `access_group_ipv4_query_only` (String) Allow only control queries
- `access_group_ipv4_serve` (String) Provide server and query access
- `access_group_ipv4_serve_only` (String) Provide only server access
- `access_group_ipv6_peer` (String) Provide full access
- `access_group_ipv6_query_only` (String) Allow only control queries
- `access_group_ipv6_serve` (String) Provide server and query access
- `access_group_ipv6_serve_only` (String) Provide only server access
- `access_group_vrfs` (Attributes List) Specify non-default VRF (see [below for nested schema](#nestedatt--access_group_vrfs))
- `admin_plane_burst` (Boolean) Use burst mode
- `admin_plane_iburst` (Boolean) Use initial burst mode
- `admin_plane_key` (Number) Configure peer authentication key
  - Range: `1`-`65535`
- `admin_plane_maxpoll` (Number) Configure maximum polling rate
  - Range: `4`-`17`
- `admin_plane_minpoll` (Number) Configure minimum polling rate
  - Range: `4`-`17`
- `admin_plane_prefer` (Boolean) Prefer this peer when possible
- `admin_plane_version` (Number) Configure NTP version
  - Range: `1`-`4`
- `authenticate` (Boolean) Authenticate time sources
- `authentication_keys` (Attributes List) Authentication key for trusted time sources (see [below for nested schema](#nestedatt--authentication_keys))
- `broadcastdelay` (Number) Estimated round-trip delay
  - Range: `1`-`999999`
- `cmac_authentication_keys` (Attributes List) CMAC Authentication key for trusted time sources (see [below for nested schema](#nestedatt--cmac_authentication_keys))
- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `device` (String) A device name from the provider configuration.
- `hmac_sha1_authentication_keys` (Attributes List) HMA-SHA1 Authentication key for trusted time sources (see [below for nested schema](#nestedatt--hmac_sha1_authentication_keys))
- `hmac_sha2_authentication_keys` (Attributes List) HMA-SHA2 Authentication key for trusted time sources (see [below for nested schema](#nestedatt--hmac_sha2_authentication_keys))
- `interface_vrfs` (Attributes List) Specify non-default VRF (see [below for nested schema](#nestedatt--interface_vrfs))
- `interfaces` (Attributes List) Configure NTP on an interface (see [below for nested schema](#nestedatt--interfaces))
- `ipv4_dscp` (String) Set IP DSCP (DiffServ CodePoint)
- `ipv4_peers_servers` (Attributes List) Specify IPv4 address (see [below for nested schema](#nestedatt--ipv4_peers_servers))
- `ipv4_precedence` (String) Set precedence
  - Choices: `critical`, `flash`, `flash-override`, `immediate`, `internet`, `network`, `priority`, `routine`
- `ipv6_dscp` (String) Set IP DSCP (DiffServ CodePoint)
- `ipv6_peers_servers` (Attributes List) Specify IPv6 address (see [below for nested schema](#nestedatt--ipv6_peers_servers))
- `ipv6_precedence` (String) Set precedence
  - Choices: `critical`, `flash`, `flash-override`, `immediate`, `internet`, `network`, `priority`, `routine`
- `log_internal_sync` (Boolean) Logs internal synchronization changes
- `max_associations` (Number) Set maximum number of associations
  - Range: `0`-`4294967295`
- `passive` (Boolean) Enable the passive associations
- `peers_servers_vrfs` (Attributes List) Specify non-default VRF (see [below for nested schema](#nestedatt--peers_servers_vrfs))
- `primary_reference_clock` (Boolean) Use a primary reference clock as clock source
- `primary_stratum_number` (Number) Use NTP as clock source with stratum number <n>
  - Range: `1`-`15`
- `source_interface_name` (String) default interface
- `source_vrfs` (Attributes List) Specify non-default VRF (see [below for nested schema](#nestedatt--source_vrfs))
- `trusted_keys` (Attributes List) Key numbers for trusted time sources (see [below for nested schema](#nestedatt--trusted_keys))
- `update_calendar` (Boolean) Periodically update calendar with NTP time

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--access_group_vrfs"></a>
### Nested Schema for `access_group_vrfs`

Required:

- `vrf_name` (String) Specify non-default VRF

Optional:

- `ipv4_peer` (String) Provide full access
- `ipv4_query_only` (String) Allow only control queries
- `ipv4_serve` (String) Provide server and query access
- `ipv4_serve_only` (String) Provide only server access
- `ipv6_peer` (String) Provide full access
- `ipv6_query_only` (String) Allow only control queries
- `ipv6_serve` (String) Provide server and query access
- `ipv6_serve_only` (String) Provide only server access


<a id="nestedatt--authentication_keys"></a>
### Nested Schema for `authentication_keys`

Required:

- `key_number` (Number) Authentication key for trusted time sources
  - Range: `1`-`65535`
- `md5_encrypted` (String) Specify an encrypted key


<a id="nestedatt--cmac_authentication_keys"></a>
### Nested Schema for `cmac_authentication_keys`

Required:

- `cmac_encrypted` (String) Specify an encrypted key
- `key_number` (Number) Authentication key for trusted time sources
  - Range: `1`-`65535`


<a id="nestedatt--hmac_sha1_authentication_keys"></a>
### Nested Schema for `hmac_sha1_authentication_keys`

Required:

- `hmac_sha1_encrypted` (String) Specify an encrypted key
- `key_number` (Number) Authentication key for trusted time sources
  - Range: `1`-`65535`


<a id="nestedatt--hmac_sha2_authentication_keys"></a>
### Nested Schema for `hmac_sha2_authentication_keys`

Required:

- `hmac_sha2_encrypted` (String) Specify an encrypted key
- `key_number` (Number) Authentication key for trusted time sources
  - Range: `1`-`65535`


<a id="nestedatt--interface_vrfs"></a>
### Nested Schema for `interface_vrfs`

Required:

- `vrf_name` (String) Specify non-default VRF

Optional:

- `interfaces` (Attributes List) Configure NTP on an interface (see [below for nested schema](#nestedatt--interface_vrfs--interfaces))

<a id="nestedatt--interface_vrfs--interfaces"></a>
### Nested Schema for `interface_vrfs.interfaces`

Required:

- `interface_name` (String) Configure NTP on an interface

Optional:

- `broadcast_client` (Boolean) Listen to NTP broadcasts
- `broadcast_destination` (String) Configure broadcast destination address
- `broadcast_key` (Number) Configure broadcast authentication key
  - Range: `1`-`65535`
- `broadcast_version` (Number) Configure NTP version
  - Range: `2`-`4`
- `disable` (Boolean) Disable NTP



<a id="nestedatt--interfaces"></a>
### Nested Schema for `interfaces`

Required:

- `interface_name` (String) Configure NTP on an interface

Optional:

- `broadcast_destination` (String) Configure broadcast destination address
- `broadcast_key` (Number) Configure broadcast authentication key
  - Range: `1`-`65535`
- `broadcast_version` (Number) Configure NTP version
  - Range: `2`-`4`
- `disable` (Boolean) Disable NTP


<a id="nestedatt--ipv4_peers_servers"></a>
### Nested Schema for `ipv4_peers_servers`

Required:

- `address` (String) Peer/server address
- `type` (String) Specify peer/server
  - Choices: `peer`, `server`

Optional:

- `burst` (Boolean) Use burst mode
- `iburst` (Boolean) Use initial burst mode
- `key` (Number) Configure peer authentication key
  - Range: `1`-`65535`
- `maxpoll` (Number) Configure maximum polling rate
  - Range: `4`-`9`
- `minpoll` (Number) Configure minimum polling rate
  - Range: `4`-`5`
- `prefer` (Boolean) Prefer this peer when possible
- `source` (String) Interface for source address
- `version` (Number) Configure NTP version
  - Range: `2`-`4`


<a id="nestedatt--ipv6_peers_servers"></a>
### Nested Schema for `ipv6_peers_servers`

Required:

- `address` (String) Peer/server address
- `ipv6_address` (String) IPv6 address (must be same as key node 'address')
- `type` (String) Specify peer/server
  - Choices: `peer`, `server`

Optional:

- `burst` (Boolean) Use burst mode
- `iburst` (Boolean) Use initial burst mode
- `key` (Number) Configure peer authentication key
  - Range: `1`-`65535`
- `maxpoll` (Number) Configure maximum polling rate
  - Range: `4`-`9`
- `minpoll` (Number) Configure minimum polling rate
  - Range: `4`-`5`
- `prefer` (Boolean) Prefer this peer when possible
- `source` (String) Interface for source address
- `version` (Number) Configure NTP version
  - Range: `2`-`4`


<a id="nestedatt--peers_servers_vrfs"></a>
### Nested Schema for `peers_servers_vrfs`

Required:

- `vrf_name` (String) Specify non-default VRF

Optional:

- `ipv4_peers_servers` (Attributes List) Specify IPv4 address (see [below for nested schema](#nestedatt--peers_servers_vrfs--ipv4_peers_servers))
- `ipv6_peers_servers` (Attributes List) Specify IPv6 address (see [below for nested schema](#nestedatt--peers_servers_vrfs--ipv6_peers_servers))

<a id="nestedatt--peers_servers_vrfs--ipv4_peers_servers"></a>
### Nested Schema for `peers_servers_vrfs.ipv4_peers_servers`

Required:

- `address` (String) Peer/server address
- `type` (String) Specify peer/server
  - Choices: `peer`, `server`

Optional:

- `burst` (Boolean) Use burst mode
- `iburst` (Boolean) Use initial burst mode
- `key` (Number) Configure peer authentication key
  - Range: `1`-`65535`
- `maxpoll` (Number) Configure maximum polling rate
  - Range: `4`-`9`
- `minpoll` (Number) Configure minimum polling rate
  - Range: `4`-`5`
- `prefer` (Boolean) Prefer this peer when possible
- `source` (String) Interface for source address
- `version` (Number) Configure NTP version
  - Range: `2`-`4`


<a id="nestedatt--peers_servers_vrfs--ipv6_peers_servers"></a>
### Nested Schema for `peers_servers_vrfs.ipv6_peers_servers`

Required:

- `address` (String) Peer/server address
- `ipv6_address` (String) IPv6 address (must be same as key node 'address')
- `type` (String) Specify peer/server
  - Choices: `peer`, `server`

Optional:

- `burst` (Boolean) Use burst mode
- `iburst` (Boolean) Use initial burst mode
- `key` (Number) Configure peer authentication key
  - Range: `1`-`65535`
- `maxpoll` (Number) Configure maximum polling rate
  - Range: `4`-`9`
- `minpoll` (Number) Configure minimum polling rate
  - Range: `4`-`5`
- `prefer` (Boolean) Prefer this peer when possible
- `source` (String) Interface for source address
- `version` (Number) Configure NTP version
  - Range: `2`-`4`



<a id="nestedatt--source_vrfs"></a>
### Nested Schema for `source_vrfs`

Required:

- `interface_name` (String) default interface for the VRF
- `vrf_name` (String) Specify non-default VRF


<a id="nestedatt--trusted_keys"></a>
### Nested Schema for `trusted_keys`

Required:

- `key_number` (Number) Key numbers for trusted time sources
  - Range: `1`-`65535`

## Import

Import is supported using the following syntax:

```shell
terraform import iosxr_ntp.example ""
```
