---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_ptp Resource - terraform-provider-iosxr"
subcategory: "Timing"
description: |-
  This resource can manage the PTP configuration.
---

# iosxr_ptp (Resource)

This resource can manage the PTP configuration.

## Example Usage

```terraform
resource "iosxr_ptp" "example" {
  frequency_priority   = 10
  time_of_day_priority = 10
  ipv6_verify_checksum = true
  min_clock_class      = 128
  utc_offset_baseline  = 37
  utc_offsets = [
    {
      date         = "2025-12-01"
      offset_value = 37
    }
  ]
  uncalibrated_clock_class_clock_class          = 248
  uncalibrated_clock_class_unless_from_holdover = true
  uncalibrated_traceable_override               = true
  startup_clock_class                           = 165
  freerun_clock_class                           = 249
  double_failure_clock_class                    = 250
  physical_layer_frequency                      = true
  network_type_high_pdv                         = true
  servo_slow_tracking                           = 16
  holdover_spec_clock_class                     = 164
  holdover_spec_duration                        = 600
  holdover_spec_traceable_override              = true
  apts                                          = true
  performance_monitoring                        = true
  log_best_primary_clock_changes                = true
  log_servo_events                              = true
  virtual_port                                  = true
  virtual_port_priority1                        = 128
  virtual_port_priority2                        = 129
  virtual_port_clock_class                      = 6
  virtual_port_clock_accuracy                   = 33
  virtual_port_offset_scaled_log_variance       = 4100
  virtual_port_local_priority                   = 128
  virtual_port_gm_threshold_breach              = 1000000
  clock_identity_mac_address_custom             = "00:11:22:33:44:55"
  clock_domain                                  = 24
  clock_priority1                               = 128
  clock_priority2                               = 128
  clock_clock_class                             = 6
  clock_timescale_ptp                           = true
  clock_time_source_gps                         = true
  clock_profile_g_8275_1_clock_type_t_bc        = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `apts` (Boolean) Enable assisted partial timing support
- `clock_clock_class` (Number) The clock class to use when advertising this clock
  - Range: `0`-`255`
- `clock_domain` (Number) The domain number to use for this clock
  - Range: `0`-`255`
- `clock_identity_eui_64` (String) Use the full EUI-64 number to determine
- `clock_identity_mac_address_custom` (String) configure this node
- `clock_identity_mac_address_router` (Boolean) Use the router's mac-address
- `clock_priority1` (Number) The priority1 value to use when advertising this clock
  - Range: `0`-`255`
- `clock_priority2` (Number) The priority2 value to use when advertising this clock
  - Range: `0`-`255`
- `clock_profile_g_8265_1` (Boolean) G.8265.1 telecom profile
- `clock_profile_g_8265_1_clock_type_master` (Boolean) Configure primary clock
- `clock_profile_g_8265_1_clock_type_slave` (Boolean) Configure telecom subordinate clock
- `clock_profile_g_8275_1_clock_type_t_bc` (Boolean) Configure telecom boundary clock
- `clock_profile_g_8275_1_clock_type_t_gm` (Boolean) Configure telecom grand primary clock
- `clock_profile_g_8275_1_clock_type_t_tsc` (Boolean) Configure telecom subordinate clock
- `clock_profile_g_8275_2_clock_type_t_bc` (Boolean) Configure telecom boundary clock
- `clock_profile_g_8275_2_clock_type_t_gm` (Boolean) Configure telecom grand primary clock
- `clock_profile_g_8275_2_clock_type_t_tsc` (Boolean) Configure telecom subordinate clock
- `clock_time_source_atomic_clock` (Boolean) Atomic clock
- `clock_time_source_gps` (Boolean) GPS
- `clock_time_source_hand_set` (Boolean) Hand-set
- `clock_time_source_internal_oscillator` (Boolean) Internal oscillator
- `clock_time_source_ntp` (Boolean) NTP
- `clock_time_source_other` (Boolean) Other source
- `clock_time_source_ptp` (Boolean) PTP
- `clock_time_source_terrestrial_radio` (Boolean) Terrestrial radio
- `clock_timescale_arb` (Boolean) ARB timescale
- `clock_timescale_ptp` (Boolean) PTP timescale
- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `detect_ptsf_unusable` (Boolean) Enable the servo to disqualify a foreign primary from selection if it is found to be PTSF-unusable
- `device` (String) A device name from the provider configuration.
- `double_failure_clock_class` (Number) The clock class to use when both PTP and syncE are lost
  - Range: `0`-`255`
- `freerun_clock_class` (Number) The clock class to use when the PTP servo is freerunning
  - Range: `0`-`255`
- `frequency_priority` (Number) Frequency priority
  - Range: `1`-`254`
- `holdover_spec_clock_class` (Number) The clock class to use while in holdover-spec
  - Range: `0`-`255`
- `holdover_spec_duration` (Number) Specify duration of holdover-spec
  - Range: `0`-`4294967295`
- `holdover_spec_traceable_override` (Boolean) Override time-traceability to true while in holdover-spec
- `ipv6_verify_checksum` (Boolean) Verify UDP checksum for IPv6 packets
- `log_best_primary_clock_changes` (Boolean) Log best primary clock changes
- `log_servo_events` (Boolean) Log servo events
- `min_clock_class` (Number) Clocks with a clock-class higher than minimum clock class will not be considered for selection as a parent clock.
  - Range: `0`-`255`
- `network_type_high_pdv` (Boolean) The network has high packet delay variation
- `performance_monitoring` (Boolean) Enable performance monitoring
- `phase_difference_threshold_breach` (Number) Value at which a bistate alarm is triggered when the phase difference for any foreign primary is exceeded in nanoseconds
  - Range: `0`-`4294967295`
- `physical_layer_frequency` (Boolean) Disable PTP as a source for frequency as only physical layer frequency sources are used
- `servo_slow_tracking` (Number) Restrict the rate, in ns per second, at which the servo may track to update the time and attain sync
  - Range: `8`-`984`
- `startup_clock_class` (Number) The clock class to use when PTP starts up
  - Range: `0`-`255`
- `time_of_day_priority` (Number) Time-of-day priority
  - Range: `1`-`254`
- `transparent_clock_domain_all` (Boolean) All domains
- `uncalibrated_clock_class_clock_class` (Number) Clock class to be used while acquiring phase-lock to a parent clock
  - Range: `0`-`255`
- `uncalibrated_clock_class_unless_from_holdover` (Boolean) Don't use this clock class if previously in holdover.
- `uncalibrated_traceable_override` (Boolean) Override time-traceability to true while acquiring phase lock to a parent clock
- `utc_offset_baseline` (Number) Configure the baseline UTC offset
  - Range: `0`-`32767`
- `utc_offsets` (Attributes List) Configure the UTC offset (see [below for nested schema](#nestedatt--utc_offsets))
- `virtual_port` (Boolean) PTP Virtual Port Configuration
- `virtual_port_clock_accuracy` (Number) The clock accuracy to use when advertising this clock
  - Range: `0`-`254`
- `virtual_port_clock_class` (Number) The clock class to use when advertising this clock
  - Range: `0`-`255`
- `virtual_port_gm_threshold_breach` (Number) The threshold value for TOD offset from the GM
  - Range: `0`-`4294967295`
- `virtual_port_local_priority` (Number) Configure a local priority
  - Range: `1`-`255`
- `virtual_port_offset_scaled_log_variance` (Number) The OSLV value to use for the virtual port
  - Range: `0`-`65535`
- `virtual_port_priority1` (Number) The priority1 value to use when advertising this clock
  - Range: `0`-`255`
- `virtual_port_priority2` (Number) The priority2 value to use when advertising this clock
  - Range: `0`-`255`

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--utc_offsets"></a>
### Nested Schema for `utc_offsets`

Required:

- `date` (String) Date to apply the UTC offset, in ISO 8601 format (YYYY-MM-DD)
- `offset_value` (Number) The UTC offset, in seconds
  - Range: `0`-`32767`

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_ptp.example ""
```
