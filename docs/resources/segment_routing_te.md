---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_segment_routing_te Resource - terraform-provider-iosxr"
subcategory: "Segment Routing"
description: |-
  This resource can manage the Segment Routing TE configuration.
---

# iosxr_segment_routing_te (Resource)

This resource can manage the Segment Routing TE configuration.

## Example Usage

```terraform
resource "iosxr_segment_routing_te" "example" {
  te_latency                = true
  max_install_standby_paths = 2
  kshortest_paths           = 120
  separate_next_hop         = true
  maximum_sid_depth         = 6
  effective_metric_admin_distance_metric_types = [
    {
      metric_type    = "igp"
      admin_distance = 40
    }
  ]
  effective_metric_admin_distance_flex_algo_metric_types = [
    {
      metric_type    = 0
      admin_distance = 40
    }
  ]
  steering_labeled_services_disable_on_demand_policies = true
  steering_labeled_services_disable_all_policies       = true
  steering_labeled_services_disable_pcep_policies      = true
  steering_labeled_services_disable_local_policies     = true
  steering_labeled_services_disable_bgp_sr_te_policies = true
  segment_lists_srv6_topology_check                    = true
  segment_lists_srv6_sid_format                        = "micro-sid"
  segment_lists_srv6_explicit_segments = [
    {
      path_name = "SEG-1"
      srv6_segments = [
        {
          index    = 1
          address  = "fcbb:bb00:100::1"
          hop_type = "srv6sid"
        }
      ]
      srv6_topology_check = true
    }
  ]
  segment_lists_sr_mpls_explicit_segments = [
    {
      path_name = "SR-MPLS-1"
      sr_mpls_segments = [
        {
          index        = 1
          type         = "mpls-label"
          address      = "192.168.1.2"
          mpls_label   = 16200
          address_type = 2
        }
      ]
    }
  ]
  logging_pcep_peer_status            = true
  logging_policy_status               = true
  cspf_cache_size                     = 1000
  timers_candidate_path_cleanup_delay = 60
  timers_initial_verify_restart       = 60
  timers_initial_verify_switchover    = 120
  timers_initial_verify_startup       = 60
  timers_delete_delay                 = 60
  timers_cleanup_delay                = 60
  timers_install_delay                = 60
  timers_periodic_reoptimization      = 120
  resource_lists = [
    {
      path_name = "RESOURCE-1"
      resources = [
        {
          index   = 1
          type    = "ipv4-address"
          address = "192.168.1.2"
        }
      ]
    }
  ]
  distribute_link_state                                = true
  distribute_link_state_throttle                       = 15
  distribute_link_state_report_candidate_path_inactive = true
  bfd_timers_session_bringup                           = 120
  binding_sid_rules_explicit                           = "enforce-srlb"
  binding_sid_rules_dynamic                            = "disable"
  interfaces = [
    {
      interface_name = "GigabitEthernet0/0/0/1"
      affinities = [
        {
          affinity_name = "AFFINITY-1"
        }
      ]
      metric = 1000
    }
  ]
  pce_peers_ipv4 = [
    {
      pce_address        = "192.168.1.2"
      password_encrypted = "14141B180F0B6A"
      pce_group          = "PCE-1"
      precedence         = 110
    }
  ]
  pce_peers_ipv6 = [
    {
      pce_address                = "2001:db8:1::1"
      pce_group                  = "PCE-1"
      precedence                 = 120
      tcp_ao_keychain            = "KEY-2"
      tcp_ao_include_tcp_options = true
    }
  ]
  pcc_profiles = [
    {
      profile_id                       = 10
      steering_invalidation_drop       = true
      auto_route_include_all_ipv4      = true
      auto_route_include_all_ipv6      = true
      auto_route_force_sr_include      = true
      auto_route_forward_class         = 1
      auto_route_metric_type           = "relative"
      auto_route_metric_relative_value = -10
      auto_route_metric_constant_value = 100
    }
  ]
  pcc_redundancy_pcc_centric = true
  pcc_dead_timer             = 60
  pcc_keepalive_timer        = 60
  pcc_initiated_state        = 120
  pcc_initiated_orphan       = 120
  pcc_delegation_timeout     = 120
  pcc_report_all             = true
  pcc_source_address_ipv4    = "192.168.1.1"
  pcc_source_address_ipv6    = "2001:db8:1::1"
  traces = [
    {
      buffer_name = "bsid"
      trace_count = 1000
    }
  ]
  path_disable_algo_checks_strict_spf_areas = [
    {
      area_id  = 1
      protocol = "ospf"
    }
  ]
  path_disable_algo_checks_strict_spf_all_areas = true
  affinity_maps = [
    {
      affinity_name = "AFFINITY-1"
      bit_position  = 1
    }
  ]
  candidate_paths = [
    {
      path_type                = "candidate-path-type-bgp-srte"
      source_address_selection = true
      source_address_type      = "end-point-type-ipv4"
      source_address           = "192.168.1.1"
    }
  ]
  srv6_locator                  = "LOC1"
  srv6_locator_binding_sid_type = "srv6-dynamic"
  srv6_locator_behavior         = "ub6-insert-reduced"
  srv6_maximum_sid_depth        = 6
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `affinity_maps` (Attributes List) Affinity-map entry (see [below for nested schema](#nestedatt--affinity_maps))
- `bfd_timers_session_bringup` (Number) How long to wait for new BFD session to come up
  - Range: `10`-`3600`
- `binding_sid_rules_dynamic` (String) Binding SID dynamic rule. Applicable for SR-MPLS and SRv6 policies
  - Choices: `disable`
- `binding_sid_rules_explicit` (String) Binding sid explicit rule
  - Choices: `enforce-srlb`, `fallback-dynamic`
- `candidate_paths` (Attributes List) Configurations for candidate paths of specific type. (see [below for nested schema](#nestedatt--candidate_paths))
- `cspf_cache_size` (Number) Configure maximum size of the CSPF cache size in MiB
  - Range: `100`-`100000`
- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `device` (String) A device name from the provider configuration.
- `distribute_link_state` (Boolean) Distribute policy information to BGP link-state
- `distribute_link_state_report_candidate_path_inactive` (Boolean) Enable reporting of inactive candidate paths
- `distribute_link_state_throttle` (Number) Set throttle update in seconds (default: 0 seconds)
  - Range: `1`-`20`
- `effective_metric_admin_distance_flex_algo_metric_types` (Attributes List) Administrative distance advertised for this metric type (see [below for nested schema](#nestedatt--effective_metric_admin_distance_flex_algo_metric_types))
- `effective_metric_admin_distance_metric_types` (Attributes List) Administrative distance advertised for this metric type (see [below for nested schema](#nestedatt--effective_metric_admin_distance_metric_types))
- `interfaces` (Attributes List) SR-TE interface (see [below for nested schema](#nestedatt--interfaces))
- `kshortest_paths` (Number) Maximum number of attempted paths for cumulative bounds (default 100)
  - Range: `1`-`200`
- `logging_pcep_peer_status` (Boolean) Enable logging for pcep peer status
- `logging_policy_status` (Boolean) Enable logging for policy status
- `max_install_standby_paths` (Number) Allow additional candidate paths to warm up non forwarding LSPs
  - Range: `1`-`3`
- `maximum_sid_depth` (Number) Maximum SID Depth Configuration
  - Range: `1`-`255`
- `path_disable_algo_checks_strict_spf_all_areas` (Boolean) Disable check for all IGP areas
- `path_disable_algo_checks_strict_spf_areas` (Attributes List) IGP area (see [below for nested schema](#nestedatt--path_disable_algo_checks_strict_spf_areas))
- `pcc_dead_timer` (Number) Amount of time after which the peer can declare this session down, if no PCEP message has been received
  - Range: `1`-`255`
- `pcc_delegation_timeout` (Number) Maximum time delegated SR-TE policies can remain up without an active connection to a PCE
  - Range: `0`-`1576800000`
- `pcc_initiated_orphan` (Number) Amount of time that PCE initiated policy remains delegated to a peer that has gone down
  - Range: `0`-`180`
- `pcc_initiated_state` (Number) Amount of time that PCE initiated policy can exist as an orphan before it is cleaned up
  - Range: `0`-`86400`
- `pcc_keepalive_timer` (Number) Maximum time between two consecutive PCEP messages sent by this node
  - Range: `0`-`255`
- `pcc_profiles` (Attributes List) Path profile configuration (see [below for nested schema](#nestedatt--pcc_profiles))
- `pcc_redundancy_pcc_centric` (Boolean) Enable PCC centric model, where PCC only allows the lowest precedence PCE to initiate policies. THIS COMMAND IS DEPRECATED
- `pcc_redundancy_pce_centric` (Boolean) Enable PCE centric model
- `pcc_report_all` (Boolean) Report all local SR policies to connected PCEP peers
- `pcc_source_address_ipv4` (String) Local source IP address to use on PCEP sessions
- `pcc_source_address_ipv6` (String) Local source IP address to use on PCEP sessions
- `pce_peers_ipv4` (Attributes List) PCE peer (see [below for nested schema](#nestedatt--pce_peers_ipv4))
- `pce_peers_ipv6` (Attributes List) PCE peer (see [below for nested schema](#nestedatt--pce_peers_ipv6))
- `resource_lists` (Attributes List) Resource-list configuration (see [below for nested schema](#nestedatt--resource_lists))
- `segment_lists_sr_mpls_explicit_segments` (Attributes List) Segment-list configuration (see [below for nested schema](#nestedatt--segment_lists_sr_mpls_explicit_segments))
- `segment_lists_srv6_explicit_segments` (Attributes List) Segment-list configuration (see [below for nested schema](#nestedatt--segment_lists_srv6_explicit_segments))
- `segment_lists_srv6_sid_format` (String) Segment-lists configuration
  - Choices: `micro-sid`
- `segment_lists_srv6_topology_check` (Boolean) Enable topology check for all SRv6 segment-lists
- `separate_next_hop` (Boolean) Use Next Hop Separation in Forwarding
- `srv6_locator` (String) SRv6 locator name
- `srv6_locator_behavior` (String) SRv6 USID Behavior
  - Choices: `ub6-encaps-reduced`, `ub6-insert-reduced`
- `srv6_locator_binding_sid_type` (String) Binding Segment ID type
  - Choices: `srv6-dynamic`
- `srv6_maximum_sid_depth` (Number) SRv6 Maximum SID Depth Configuration
  - Range: `1`-`255`
- `steering_labeled_services_disable_all_policies` (Boolean) Disable steering for labeled services for all policies
- `steering_labeled_services_disable_bgp_sr_te_policies` (Boolean) Disable steering for labeled services for BGP-SRTE policies
- `steering_labeled_services_disable_local_policies` (Boolean) Disable steering for labeled services for local policies
- `steering_labeled_services_disable_on_demand_policies` (Boolean) Disable steering for labeled services for on-demand policies
- `steering_labeled_services_disable_pcep_policies` (Boolean) Disable steering for labeled services for PCE initiated policies
- `te_latency` (Boolean) Use TE-latency algorithm
- `timers_candidate_path_cleanup_delay` (Number) Delay before cleaning up candidate paths
  - Range: `0`-`86400`
- `timers_cleanup_delay` (Number) Delay before cleaning up previous path
  - Range: `0`-`300`
- `timers_delete_delay` (Number) Delete delay value in seconds
  - Range: `0`-`3600`
- `timers_initial_verify_restart` (Number) Timer to wait for topology convergence after topology starts populating for restart case
  - Range: `10`-`10000`
- `timers_initial_verify_startup` (Number) Timer to wait for topology convergence after topology starts populating for startup case
  - Range: `10`-`10000`
- `timers_initial_verify_switchover` (Number) Timer to wait for topology convergence after topology starts populating for switchover case
  - Range: `10`-`10000`
- `timers_install_delay` (Number) Delay before switching to a reoptimized path
  - Range: `0`-`300`
- `timers_periodic_reoptimization` (Number) How often to perform periodic reoptimization of policies
  - Range: `0`-`86400`
- `traces` (Attributes List) Trace count for provided buffer (see [below for nested schema](#nestedatt--traces))

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--affinity_maps"></a>
### Nested Schema for `affinity_maps`

Required:

- `affinity_name` (String) Affinity-map bit-position
- `bit_position` (Number) Affinity-map bit-position
  - Range: `0`-`255`


<a id="nestedatt--candidate_paths"></a>
### Nested Schema for `candidate_paths`

Required:

- `path_type` (String) Candidate-path type
  - Choices: `candidate-path-type-all`, `candidate-path-type-bgp-odn`, `candidate-path-type-bgp-srte`, `candidate-path-type-local`, `candidate-path-type-pcep`
- `source_address` (String) Source address
- `source_address_type` (String) IP address type
  - Choices: `end-point-type-ipv4`, `end-point-type-ipv6`

Optional:

- `source_address_selection` (Boolean) True only
  - Default value: `true`


<a id="nestedatt--effective_metric_admin_distance_flex_algo_metric_types"></a>
### Nested Schema for `effective_metric_admin_distance_flex_algo_metric_types`

Required:

- `admin_distance` (Number) AdminDistance
  - Range: `1`-`255`
- `metric_type` (Number) FlexAlgoMetricType
  - Range: `0`-`255`


<a id="nestedatt--effective_metric_admin_distance_metric_types"></a>
### Nested Schema for `effective_metric_admin_distance_metric_types`

Required:

- `admin_distance` (Number) AdminDistance
  - Range: `1`-`255`
- `metric_type` (String) MetricType
  - Choices: `default`, `hopcount`, `igp`, `latency`, `te`


<a id="nestedatt--interfaces"></a>
### Nested Schema for `interfaces`

Required:

- `interface_name` (String) SR-TE Interface name

Optional:

- `affinities` (Attributes List) Set user defined interface attribute flags (see [below for nested schema](#nestedatt--interfaces--affinities))
- `metric` (Number) Interface TE metric configuration
  - Range: `0`-`2147483647`

<a id="nestedatt--interfaces--affinities"></a>
### Nested Schema for `interfaces.affinities`

Required:

- `affinity_name` (String) Interface affinity names



<a id="nestedatt--path_disable_algo_checks_strict_spf_areas"></a>
### Nested Schema for `path_disable_algo_checks_strict_spf_areas`

Required:

- `area_id` (Number) Area identifier
  - Range: `0`-`4294967295`
- `protocol` (String) IGP protocol
  - Choices: `ospf`


<a id="nestedatt--pcc_profiles"></a>
### Nested Schema for `pcc_profiles`

Required:

- `profile_id` (Number) Profile unique identifier
  - Range: `1`-`65534`

Optional:

- `auto_route_force_sr_include` (Boolean) Force SR traffic over autoroute policy
- `auto_route_forward_class` (Number) Forward class associated with the policy
  - Range: `0`-`7`
- `auto_route_include_all_ipv4` (Boolean) Include all IPv4 prefixes to autoroute
- `auto_route_include_all_ipv6` (Boolean) Include all eligible IPv6 prefixes
- `auto_route_metric_constant_value` (Number) Autoroute constant metric
  - Range: `1`-`2147483647`
- `auto_route_metric_relative_value` (Number) Autoroute relative metric
  - Range: `-10`-`10`
- `auto_route_metric_type` (String) Metric type
  - Choices: `constant`, `relative`
- `steering_invalidation_drop` (Boolean) Enable path invalidation drop


<a id="nestedatt--pce_peers_ipv4"></a>
### Nested Schema for `pce_peers_ipv4`

Required:

- `pce_address` (String) Remote PCE address

Optional:

- `password_encrypted` (String, Sensitive) PCC Peer MD5 Password
- `pce_group` (String) Name of the PCE group - maximum 16 characters
- `precedence` (Number) Precedence value of this PCE
  - Range: `0`-`255`
- `tcp_ao_include_tcp_options` (Boolean) Include other TCP options in the header
- `tcp_ao_keychain` (String) Name of the keychain


<a id="nestedatt--pce_peers_ipv6"></a>
### Nested Schema for `pce_peers_ipv6`

Required:

- `pce_address` (String) Remote PCE address

Optional:

- `password_encrypted` (String, Sensitive) PCC Peer MD5 Password
- `pce_group` (String) Name of the PCE group - maximum 16 characters
- `precedence` (Number) Precedence value of this PCE
  - Range: `0`-`255`
- `tcp_ao_include_tcp_options` (Boolean) Include other TCP options in the header
- `tcp_ao_keychain` (String) Name of the keychain


<a id="nestedatt--resource_lists"></a>
### Nested Schema for `resource_lists`

Required:

- `path_name` (String) Resource-list name

Optional:

- `resources` (Attributes List) Configure Resource at the index (see [below for nested schema](#nestedatt--resource_lists--resources))

<a id="nestedatt--resource_lists--resources"></a>
### Nested Schema for `resource_lists.resources`

Required:

- `index` (Number) Resource index
  - Range: `1`-`65535`

Optional:

- `address` (String) IPv4 Address
- `type` (String) Resource type
  - Choices: `ipv4-address`



<a id="nestedatt--segment_lists_sr_mpls_explicit_segments"></a>
### Nested Schema for `segment_lists_sr_mpls_explicit_segments`

Required:

- `path_name` (String) Segment-list name

Optional:

- `sr_mpls_segments` (Attributes List) Configure Segment/hop at the index (see [below for nested schema](#nestedatt--segment_lists_sr_mpls_explicit_segments--sr_mpls_segments))

<a id="nestedatt--segment_lists_sr_mpls_explicit_segments--sr_mpls_segments"></a>
### Nested Schema for `segment_lists_sr_mpls_explicit_segments.sr_mpls_segments`

Required:

- `index` (Number) Segment index
  - Range: `1`-`65535`

Optional:

- `address` (String) IP Address
- `address_type` (Number) IP address types
  - Range: `0`-`32`
- `adjacency_address` (String) IP Adjacency Address
- `interface_identifier` (Number) Interface Identifier
  - Range: `1`-`65535`
- `mpls_label` (Number) MPLS Label
  - Range: `0`-`1048575`
- `prefix_length` (Number) Prefix Length
  - Range: `0`-`32`
- `type` (String) Segment/hop type
  - Choices: `ip-adjacency-address`, `ipv4-address`, `mpls-label`
- `validate_flag` (Number) Validate No Validate
  - Range: `0`-`1`



<a id="nestedatt--segment_lists_srv6_explicit_segments"></a>
### Nested Schema for `segment_lists_srv6_explicit_segments`

Required:

- `path_name` (String) Segment-list name

Optional:

- `srv6_segments` (Attributes List) SRv6 segment configuration for the given index (see [below for nested schema](#nestedatt--segment_lists_srv6_explicit_segments--srv6_segments))
- `srv6_topology_check` (Boolean) Enable Topology check for the given SRv6 segment-list

<a id="nestedatt--segment_lists_srv6_explicit_segments--srv6_segments"></a>
### Nested Schema for `segment_lists_srv6_explicit_segments.srv6_segments`

Required:

- `index` (Number) Segment index
  - Range: `1`-`65535`

Optional:

- `address` (String) IPv6 Address
- `hop_type` (String) SRv6 hop type
  - Choices: `srv6sid`
  - Default value: `srv6sid`



<a id="nestedatt--traces"></a>
### Nested Schema for `traces`

Required:

- `buffer_name` (String) Buffer name
- `trace_count` (Number) Trace count
  - Range: `0`-`1000000`

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_segment_routing_te.example ""
```
