---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_telemetry_model_driven Resource - terraform-provider-iosxr"
subcategory: "Management"
description: |-
  This resource can manage the Telemetry Model Driven configuration.
---

# iosxr_telemetry_model_driven (Resource)

This resource can manage the Telemetry Model Driven configuration.

## Example Usage

```terraform
resource "iosxr_telemetry_model_driven" "example" {
  max_containers_per_path             = 16
  max_sensor_paths                    = 1000
  tcp_send_timeout                    = 30
  strict_timer                        = true
  gnmi_target_defined_cadence_factor  = 5
  gnmi_target_defined_minimum_cadence = 60
  include_select_leaves_on_events     = true
  include_empty_values                = true
  gnmi_heartbeat_always               = true
  gnmi_bundling                       = true
  gnmi_bundling_size                  = 1024
  destination_groups = [
    {
      name = "DEST-GROUP-1"
      vrf  = "VRF1"
      address_family = [
        {
          af_name              = "ipv4"
          address              = "10.1.1.1"
          port                 = 57500
          encoding             = "json"
          protocol_grpc        = true
          protocol_grpc_no_tls = true
          protocol_grpc_gzip   = true
        }
      ]
      destinations = [
        {
          address                 = "collector.example.com"
          port                    = 57500
          address_family          = "ipv4"
          encoding                = "self-describing-gpb"
          protocol_udp            = true
          protocol_udp_packetsize = 1024
        }
      ]
    }
  ]
  subscriptions = [
    {
      name               = "SUB-1"
      source_qos_marking = "ef"
      source_interface   = "Loopback0"
      sensor_group_ids = [
        {
          name               = "SENSOR-GROUP-1"
          heartbeat_always   = true
          heartbeat_interval = 30000
          strict_timer       = true
          sample_interval    = 0
        }
      ]
      destination_ids = [
        {
          name = "DEST-GROUP-1"
        }
      ]
      send_retry          = 5
      send_retry_duration = 10000
    }
  ]
  sensor_groups = [
    {
      name = "SENSOR-GROUP-1"
      sensor_paths = [
        {
          name = "Cisco-IOS-XR-infra-statsd-oper:infra-statistics/interfaces/interface/latest/generic-counters"
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `all`.
  - Choices: `all`, `attributes`
- `destination_groups` (Attributes List) Destination Group Id (see [below for nested schema](#nestedatt--destination_groups))
- `device` (String) A device name from the provider configuration.
- `gnmi_bundling` (Boolean) gNMI bundling of telemetry updates
- `gnmi_bundling_size` (Number) gNMI bundling size (default: 32768)
  - Range: `1024`-`65536`
- `gnmi_heartbeat_always` (Boolean) Send heartbeat even if events have occurred within interval
- `gnmi_target_defined_cadence_factor` (Number) Multiplier factor for cadence of target defined subscriptions
  - Range: `1`-`10`
- `gnmi_target_defined_minimum_cadence` (Number) Minimum cadence for target defined subscriptions in secs
  - Range: `1`-`65535`
- `include_empty_values` (Boolean) Include fields with empty values in output
- `include_select_leaves_on_events` (Boolean) Include only configured leafs on on-change event for the sensor-path
- `max_containers_per_path` (Number) Maximum containers allowed per sensor path (default: 16)
  - Range: `0`-`1024`
- `max_sensor_paths` (Number) Maximum allowed sensor paths (default: 1000)
  - Range: `0`-`4000`
- `sensor_groups` (Attributes List) Sensor group configuration (see [below for nested schema](#nestedatt--sensor_groups))
- `strict_timer` (Boolean) use strict timer for all subscriptions, default is relative timer
- `subscriptions` (Attributes List) Subscription Id (see [below for nested schema](#nestedatt--subscriptions))
- `tcp_send_timeout` (Number) TCP send timeout value in seconds (default: 30)
  - Range: `0`-`30`

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--destination_groups"></a>
### Nested Schema for `destination_groups`

Required:

- `name` (String) Destination Group Id string

Optional:

- `address_family` (Attributes List) Destination address of the recepient of the telemetry information (see [below for nested schema](#nestedatt--destination_groups--address_family))
- `destinations` (Attributes List) Destination IP address or fully qualified domain name (see [below for nested schema](#nestedatt--destination_groups--destinations))
- `vrf` (String) vrf for the dest grp

<a id="nestedatt--destination_groups--address_family"></a>
### Nested Schema for `destination_groups.address_family`

Required:

- `address` (String) destination-address
- `af_name` (String) af-name
- `port` (Number) Destination Port configuration
  - Range: `1`-`65535`

Optional:

- `encoding` (String) Transport protocol encoding
  - Choices: `gpb`, `json`, `self-describing-gpb`
- `protocol_grpc` (Boolean) gRPC
- `protocol_grpc_gzip` (Boolean) gRPC gzip message compression
- `protocol_grpc_no_tls` (Boolean) No TLS
- `protocol_grpc_tls_hostname` (String) TLS hostname
- `protocol_tcp` (Boolean) TCP
- `protocol_udp` (Boolean) UDP
- `protocol_udp_packetsize` (Number) UDP packet size
  - Range: `484`-`65507`


<a id="nestedatt--destination_groups--destinations"></a>
### Nested Schema for `destination_groups.destinations`

Required:

- `address` (String) IPv4/IPv6 address or domain name
- `port` (Number) Destination port
  - Range: `1`-`65535`

Optional:

- `address_family` (String) Specify the desired address family for the returned addresses from DNS. Only applicable to FQDN
  - Choices: `ipv4`, `ipv6`
- `encoding` (String) Transport protocol encoding
  - Choices: `gpb`, `json`, `self-describing-gpb`
- `protocol_grpc` (Boolean) gRPC
- `protocol_grpc_gzip` (Boolean) gRPC gzip message compression
- `protocol_grpc_no_tls` (Boolean) No TLS
- `protocol_grpc_tls_hostname` (String) TLS hostname
- `protocol_tcp` (Boolean) TCP
- `protocol_udp` (Boolean) UDP
- `protocol_udp_packetsize` (Number) UDP packet size
  - Range: `484`-`65507`



<a id="nestedatt--sensor_groups"></a>
### Nested Schema for `sensor_groups`

Required:

- `name` (String) Sensor Group Id

Optional:

- `sensor_paths` (Attributes List) Sensor Path (see [below for nested schema](#nestedatt--sensor_groups--sensor_paths))

<a id="nestedatt--sensor_groups--sensor_paths"></a>
### Nested Schema for `sensor_groups.sensor_paths`

Required:

- `name` (String) Sensor Path



<a id="nestedatt--subscriptions"></a>
### Nested Schema for `subscriptions`

Required:

- `name` (String) Subscription Id string

Optional:

- `destination_ids` (Attributes List) Destination Group Id to associate with the current subscription id (see [below for nested schema](#nestedatt--subscriptions--destination_ids))
- `send_retry` (Number) Number of send retries
  - Range: `1`-`10`
- `send_retry_duration` (Number) Send retry wait duration in microseconds
  - Range: `0`-`10000`
- `sensor_group_ids` (Attributes List) Association of one or more Sensor Groups with a Subscription Id (see [below for nested schema](#nestedatt--subscriptions--sensor_group_ids))
- `source_interface` (String) Source interface to use in the outgoing IP packets
- `source_qos_marking` (String) Outgoing DSCP value
  - Choices: `af11`, `af12`, `af13`, `af21`, `af22`, `af23`, `af31`, `af32`, `af33`, `af41`, `af42`, `af43`, `cs1`, `cs2`, `cs3`, `cs4`, `cs5`, `cs6`, `cs7`, `default`, `ef`

<a id="nestedatt--subscriptions--destination_ids"></a>
### Nested Schema for `subscriptions.destination_ids`

Required:

- `name` (String) Available Destination Group Ids


<a id="nestedatt--subscriptions--sensor_group_ids"></a>
### Nested Schema for `subscriptions.sensor_group_ids`

Required:

- `name` (String) Available Sensor Groups

Optional:

- `heartbeat_always` (Boolean) Send heartbeat even if events have occurred within interval
- `heartbeat_interval` (Number) Send subscription data per heartbeat interval when no events have occurred within interval
  - Range: `1`-`4294967295`
- `mode` (String) Subscription mode
  - Choices: `target-defined`
- `sample_interval` (Number) Sample interval
  - Range: `0`-`4294967295`
- `strict_timer` (Boolean) use strict timer, default is relative timer

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_telemetry_model_driven.example ""
```
