---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "iosxr_tpa Resource - terraform-provider-iosxr"
subcategory: "System"
description: |-
  This resource can manage the TPA configuration.
---

# iosxr_tpa (Resource)

This resource can manage the TPA configuration.

## Example Usage

```terraform
resource "iosxr_tpa" "example" {
  statistics_update_frequency = 60
  statistics_max_lpts_events  = 10000000
  statistics_max_intf_events  = 10000000
  logging_file_max_size_kb    = 1024
  logging_rotation_max_files  = 10
  vrfs = [
    {
      vrf_name                     = "default"
      ipv4_update_source_dataports = "GigabitEthernet0/0/0/0"
      ipv6_update_source_dataports = "GigabitEthernet0/0/0/0"
      ipv4_update_source_destinations = [
        {
          destination_interface = "MgmtEth0/RP0/CPU0/0"
          source_interface      = "GigabitEthernet0/0/0/0"
        }
      ]
      ipv6_update_source_destinations = [
        {
          destination_interface = "MgmtEth0/RP0/CPU0/0"
          source_interface      = "GigabitEthernet0/0/0/0"
        }
      ]
      east_west_interfaces = [
        {
          interface_name       = "GigabitEthernet0/0/0/1"
          referenced_vrf       = "default"
          referenced_interface = "GigabitEthernet0/0/0/1"
        }
      ]
    }
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `delete_mode` (String) Configure behavior when deleting/destroying the resource. Either delete the entire object (YANG container) being managed, or only delete the individual resource attributes configured explicitly and leave everything else as-is. Default value is `attributes`.
  - Choices: `all`, `attributes`
- `device` (String) A device name from the provider configuration.
- `logging_file_max_size_kb` (Number) perform log rotation when the kim log file hits this size
  - Range: `0`-`999999999`
- `logging_rotation_max_files` (Number) how many kim log files to keep in log rotation
  - Range: `1`-`1000`
- `statistics_disable` (Boolean) disable statistics syncing from XR to Linux
- `statistics_max_intf_events` (Number) How many events to allow show kim interface statistics to record
  - Range: `1`-`99999999`
- `statistics_max_lpts_events` (Number) How many events to allow show kim lpts statistics to record
  - Range: `1`-`99999999`
- `statistics_update_frequency` (Number) Delay in seconds for XR stats sync to Linux.
  - Range: `1`-`99999999`
- `vrfs` (Attributes List) Name of VRF (see [below for nested schema](#nestedatt--vrfs))

### Read-Only

- `id` (String) The path of the object.

<a id="nestedatt--vrfs"></a>
### Nested Schema for `vrfs`

Required:

- `vrf_name` (String) Name of VRF

Optional:

- `east_west_interfaces` (Attributes List) Global interface East-West communication options (see [below for nested schema](#nestedatt--vrfs--east_west_interfaces))
- `ipv4_default_route_mgmt` (Boolean) By default all Linux traffic is default routed over the line card ports. Use this option if instead you wish the default to be routed via the RP. This option also makes it possible to default route over the management ports. Note that due to the extra hop via RP performance will be lower for Linux traffic.
- `ipv4_update_source_dataports` (String) Select an interface to use as source for all dataports
- `ipv4_update_source_dataports_active_management` (Boolean) Use the management port on the Active RP
- `ipv4_update_source_destinations` (Attributes List) Set the update source for a destination interfaces (see [below for nested schema](#nestedatt--vrfs--ipv4_update_source_destinations))
- `ipv6_default_route_mgmt` (Boolean) By default all Linux traffic is default routed over the line card ports. Use this option if instead you wish the default to be routed via the RP. This option also makes it possible to default route over the management ports. Note that due to the extra hop via RP performance will be lower for Linux traffic.
- `ipv6_update_source_dataports` (String) Select an interface to use as source for all dataports
- `ipv6_update_source_dataports_active_management` (Boolean) Use the management port on the Active RP
- `ipv6_update_source_destinations` (Attributes List) Set the update source for a destination interfaces (see [below for nested schema](#nestedatt--vrfs--ipv6_update_source_destinations))

<a id="nestedatt--vrfs--east_west_interfaces"></a>
### Nested Schema for `vrfs.east_west_interfaces`

Required:

- `interface_name` (String) Global interface East-West communication options
- `referenced_interface` (String) Interface name (must be the same as east_west_interface)
- `referenced_vrf` (String) VRF name (must be the same as tpa vrf_name)


<a id="nestedatt--vrfs--ipv4_update_source_destinations"></a>
### Nested Schema for `vrfs.ipv4_update_source_destinations`

Required:

- `destination_interface` (String) Set the update source for a destination interfaces
- `source_interface` (String) Set the update source for this interface


<a id="nestedatt--vrfs--ipv6_update_source_destinations"></a>
### Nested Schema for `vrfs.ipv6_update_source_destinations`

Required:

- `destination_interface` (String) Set the update source for a destination interfaces
- `source_interface` (String) Set the update source for this interface

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import iosxr_tpa.example ""
```
