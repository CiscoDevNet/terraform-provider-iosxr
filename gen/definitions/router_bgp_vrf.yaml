---
name: Router BGP VRF
path: Cisco-IOS-XR-um-router-bgp-cfg:/router/bgp/as[as-number=%s]/vrfs/vrf[vrf-name=%s]
doc_category: BGP
attributes:
  - yang_name: as-number
    example: 65001
  - yang_name: vrf-name
    reference: true
    example: VRF2
  - yang_name: default-information/originate
    example: true
  - yang_name: default-metric
    example: 125
  - yang_name: rd/auto
    tf_name: rd_auto
    type: Bool
    type_yang_bool: empty
    no_augment_config: true
    optional: true
    example: true
    description: "Automatic route distinguisher"
  - yang_name: rd/two-byte-as/two-byte-as-number
    tf_name: rd_two_byte_as_number
    type: String
    no_augment_config: true
    optional: true
    delete_parent: true
    example: "65004"
    exclude_test: true
    description: "2-byte AS number"
  - yang_name: rd/two-byte-as/asn2-index
    tf_name: rd_two_byte_as_index
    type: Int64
    no_augment_config: true
    optional: true
    delete_parent: true
    min_int: 0
    max_int: 4294967295
    example: 1
    exclude_test: true
    description: "ASN2:index (hex or decimal format)"
  - yang_name: rd/four-byte-as/four-byte-as-number
    tf_name: rd_four_byte_as_number
    type: String
    no_augment_config: true
    optional: true
    delete_parent: true
    example: "65005"
    exclude_test: true
    description: "4-byte AS number in asplain format"
  - yang_name: rd/four-byte-as/asn4-index
    tf_name: rd_four_byte_as_index
    type: Int64
    no_augment_config: true
    optional: true
    delete_parent: true
    min_int: 0
    max_int: 65535
    example: 2
    exclude_test: true
    description: "ASN4:index (hex or decimal format)"
  - yang_name: rd/ipv4-address/address
    tf_name: rd_ipv4_address_address
    type: String
    no_augment_config: true
    optional: true
    delete_parent: true
    example: "14.14.14.14"
    exclude_test: true
    description: "IPv4 address"
  - yang_name: rd/ipv4-address/ipv4address-index
    tf_name: rd_ipv4_address_index
    type: Int64
    no_augment_config: true
    optional: true
    delete_parent: true
    min_int: 0
    max_int: 65535
    example: 3
    exclude_test: true
    description: "IPv4Address:index (hex or decimal format)"
  - yang_name: timers/bgp/keepalive-interval
    example: 5
  - yang_name: timers/bgp/zero/zero
    tf_name: timers_bgp_zero
    type: Bool
    type_yang_bool: empty
    no_augment_config: true
    optional: true
    exclude_test: true
    example: true
    description: "Disable keepalives/hold time"
  - yang_name: timers/bgp/zero/minimum-acceptable-holdtime
    tf_name: timers_bgp_zero_minimum_acceptable_holdtime
    type: Int64
    no_augment_config: true
    optional: true
    min_int: 3
    max_int: 65535
    exclude_test: true
    example: 10
    description: "Minimum acceptable holdtime from neighbor within zero container"
  - yang_name: timers/bgp/holdtime/holdtime-number
    tf_name: timers_bgp_holdtime_number
    type: Int64
    no_augment_config: true
    optional: true
    delete_parent: true
    min_int: 3
    max_int: 65535
    example: 20
    description: "Holdtime value"
  - yang_name: timers/bgp/holdtime/zero
    tf_name: timers_bgp_holdtime_zero
    type: Bool
    type_yang_bool: empty
    no_augment_config: true
    optional: true
    delete_parent: true
    exclude_test: true
    example: true
    description: "Disable keepalives/hold time"
  - yang_name: timers/bgp/holdtime/minimum-acceptable-holdtime
    tf_name: timers_bgp_holdtime_minimum_acceptable_holdtime
    type: Int64
    no_augment_config: true
    optional: true
    delete_parent: true
    min_int: 3
    max_int: 65535
    example: 10
    description: "Minimum acceptable holdtime from neighbor"
  - yang_name: bgp/router-id
    example: 22.22.22.22
  - yang_name: bfd/minimum-interval
    example: 10
  - yang_name: bfd/multiplier
    example: 4
  - yang_name: neighbors/neighbor
    tf_name: neighbors
    type: List
    attributes:
      - yang_name: address
        id: true
        example: 10.1.1.2
      - yang_name: remote-as
        example: 65002
      - yang_name: description
        example: My Neighbor Description
      - yang_name: use/neighbor-group
        example: GROUP1
      - yang_name: advertisement-interval/advertisement-interval-time-in-seconds
        tf_name: advertisement_interval_seconds
        delete_parent: true
        example: 10
      - yang_name: advertisement-interval/advertisement-interval-time-in-milliseconds
        tf_name: advertisement_interval_milliseconds
        delete_parent: true
        example: 500
        exclude_test: true
      - yang_name: ignore-connected-check
        example: true
      - yang_name: ebgp-multihop/maximum-hop-count
        optional: true
        example: 10
      - yang_name: bfd/minimum-interval
        example: 10
      - yang_name: bfd/multiplier
        example: 4
      - yang_name: bfd/fast-detect
        example: true
      - yang_name: bfd/fast-detect/strict-mode
        example: false
      - yang_name: bfd/fast-detect/disable
        example: false
      - yang_name: local-as/inheritance-disable
        tf_name: local_as_inheritance_disable
        type: Bool
        type_yang_bool: empty
        no_augment_config: true
        optional: true
        exclude_test: true
        example: true
        description: "Prevent local AS from being inherited from parent"
      - yang_name: local-as/as/as-number
        tf_name: local_as
        type: String
        no_augment_config: true
        optional: true
        delete_parent: true
        example: "65003"
        description: "AS number"
      - yang_name: local-as/as/no-prepend
        tf_name: local_as_no_prepend
        type: Bool
        type_yang_bool: presence
        no_augment_config: true
        optional: true
        example: true
        description: "Do not prepend local AS to announcements from this neighbor"
      - yang_name: local-as/as/no-prepend/replace-as
        tf_name: local_as_no_prepend_replace_as
        type: Bool
        type_yang_bool: presence
        no_augment_config: true
        optional: true
        delete_parent: true
        example: true
        description: "Prepend only local AS to announcements to this neighbor"
      - yang_name: local-as/as/no-prepend/replace-as/dual-as
        tf_name: local_as_no_prepend_replace_as_dual_as
        type: Bool
        type_yang_bool: empty
        no_augment_config: true
        optional: true
        delete_parent: true
        example: true
        description: "Dual-AS mode"
      - yang_name: password/encrypted
        type: String
        tf_name: password
        no_augment_config: true
        optional: true
        example: 12341C2713181F13253920
        description: "Specifies an ENCRYPTED password will follow"
      - yang_name: password/inheritance-disable
        tf_name: password_inheritance_disable
        type: Bool
        type_yang_bool: empty
        no_augment_config: true
        optional: true
        example: false
        description: "Prevent password from being inherited from parent"
      - yang_name: shutdown
        example: false
      - yang_name: timers/keepalive-interval
        tf_name: timers_keepalive_interval
        type: Int64
        no_augment_config: true
        optional: true
        delete_parent: true
        min_int: 0
        max_int: 65535
        example: 10
        description: "Keepalive interval"
      - yang_name: timers/zero/zero
        tf_name: timers_zero
        type: Bool
        type_yang_bool: empty
        no_augment_config: true
        optional: true
        delete_parent: true
        exclude_test: true
        example: true
        description: "Disable keepalives/hold time within zero container"
      - yang_name: timers/zero/minimum-acceptable-holdtime
        tf_name: timers_zero_minimum_acceptable_holdtime
        type: Int64
        no_augment_config: true
        optional: true
        delete_parent: true
        min_int: 3
        max_int: 65535
        exclude_test: true
        example: 10
        description: "Minimum acceptable holdtime from neighbor within zero container"
      - yang_name: timers/holdtime/holdtime-number
        tf_name: timers_holdtime_number
        type: Int64
        no_augment_config: true
        optional: true
        delete_parent: true
        min_int: 3
        max_int: 65535
        example: 20
        description: "Holdtime value"
      - yang_name: timers/holdtime/zero
        tf_name: timers_holdtime_zero
        type: Bool
        type_yang_bool: empty
        no_augment_config: true
        optional: true
        delete_parent: true
        exclude_test: true
        example: true
        description: "Disable keepalives/hold time within holdtime container"
      - yang_name: timers/holdtime/minimum-acceptable-holdtime
        tf_name: timers_holdtime_minimum_acceptable_holdtime
        type: Int64
        no_augment_config: true
        optional: true
        delete_parent: true
        min_int: 3
        max_int: 65535
        example: 20
        description: "Minimum acceptable holdtime from neighbor"
      - yang_name: update-source
        example: GigabitEthernet0/0/0/1
      - yang_name: ttl-security
        example: false

test_prerequisites:
  - path: Cisco-IOS-XR-um-router-bgp-cfg:/router/bgp/as[as-number=65001]
    attributes:
      - name: as-number
        value: 65001
      - name: bgp/router-id
        value: 22.22.22.22
    lists:
      - name: neighbor-groups/neighbor-group
        key: neighbor-group-name
        items:
          - attributes:
              - name: neighbor-group-name
                value: GROUP1
