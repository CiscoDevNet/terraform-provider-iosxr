---
name: Router ISIS Interface Address Family
path: Cisco-IOS-XR-um-router-isis-cfg:/router/isis/processes/process[process-id=%s]/interfaces/interface[interface-name=%s]/address-families/address-family[af-name=%s][saf-name=%s]
doc_category: ISIS
attributes:
  - yang_name: process-id
    example: P1
  - yang_name: interface-name
    example: GigabitEthernet0/0/0/1
  - yang_name: af-name
    example: ipv4
  - yang_name: saf-name
    example: unicast
  - yang_name: fast-reroute/enable/per-prefix
    tf_name: fast_reroute_per_prefix
    example: true
  - yang_name: fast-reroute/enable/per-link
    tf_name: fast_reroute_per_link
    example: true
    exclude_test: true
  - yang_name: fast-reroute/enable-levels/enable-level
    tf_name: fast_reroute_enable_levels
    type: List
    attributes:
      - yang_name: level-number
        id: true
        example: 1
      - yang_name: per-prefix
        example: true
      - yang_name: per-link
        example: true
        exclude_test: true
  - yang_name: tag
    tf_name: tag
    example: 100
  - yang_name: adjacency-sid/indices/index
    tf_name: adjacency_sid_indices
    exclude_test: true
    type: List
    attributes:
      - yang_name: index-number
        id: true
        min_int: 0
        max_int: 1048575
        example: 100
        description: "The Adjacency Segment ID index"
      - yang_name: protected
        example: true
  - yang_name: adjacency-sid/absolutes/absolute
    tf_name: adjacency_sid_absolutes
    exclude_test: true
    type: List
    attributes:
      - yang_name: absolute-number
        id: true
        min_int: 16000
        max_int: 1048575
        example: 24200
        description: "The Adjacency Segment ID value"
      - yang_name: protected
        example: true
  - yang_name: advertise/prefix-advertisement/route-policy
    tf_name: advertise_prefix_route_policy
    example: ROUTE_POLICY_1
  - yang_name: advertise/prefix-advertisement/route-policy-levels/route-policy-level
    tf_name: advertise_prefix_route_policy_levels
    type: List
    attributes:
      - yang_name: level-number
        id: true
        min_int: 1
        max_int: 2
        example: 1
        description: "Set advertisement at this level only"
      - yang_name: route-policy
        example: ROUTE_POLICY_2
  - yang_name: metric/default-metric
    tf_name: metric_default_metric
    type: Int64
    no_augment_config: true
    optional: true
    delete_parent: true
    min_int: 1
    max_int: 16777214
    example: 500
    description: "Default metric: <1-63> for narrow, <1-16777214> for wide"
  - yang_name: metric/maximum
    tf_name: metric_maximum
    type: Bool
    type_yang_bool: empty
    no_augment_config: true
    optional: true
    delete_parent: true
    exclude_test: true
    example: true
    description: "Maximum wide metric. All routers will exclude this link from their SPF"
  - yang_name: metric-levels/metric-level
    tf_name: metric_levels
    exclude_test: true
    type: List
    attributes:
      - yang_name: level-number
        id: true
        min_int: 1
        max_int: 2
        example: 1
        description: "Set metric at this level only"
      - yang_name: default-metric
        tf_name: default_metric
        type: Int64
        no_augment_config: true
        optional: true
        delete_parent: true
        min_int: 1
        max_int: 16777214
        example: 600
        description: "Default metric: <1-63> for narrow, <1-16777214> for wide"
      - yang_name: maximum
        tf_name: metric_maximum
        type: Bool
        type_yang_bool: empty
        no_augment_config: true
        optional: true
        delete_parent: true
        example: true
        description: "Maximum wide metric. All routers will exclude this link from their SPF"

test_prerequisites:
  - path: Cisco-IOS-XR-um-route-policy-cfg:/routing-policy/route-policies/route-policy[route-policy-name=ROUTE_POLICY_1]
    attributes:
      - name: route-policy-name
        value: ROUTE_POLICY_1
      - name: rpl-route-policy
        value: "route-policy ROUTE_POLICY_1\\n  pass\\nend-policy\\n"
  - path: Cisco-IOS-XR-um-route-policy-cfg:/routing-policy/route-policies/route-policy[route-policy-name=ROUTE_POLICY_2]
    attributes:
      - name: route-policy-name
        value: ROUTE_POLICY_2
      - name: rpl-route-policy
        value: "route-policy ROUTE_POLICY_2\\n  pass\\nend-policy\\n"
  # - path: Cisco-IOS-XR-um-router-isis-cfg:/router/isis/processes/process[process-id=P1]/address-families/address-family[af-name=ipv4][saf-name=unicast]
  #   attributes:
  #     - name: process-id
  #       value: P1
  #     - name: af-name
  #       value: ipv4
  #     - name: saf-name
  #       value: unicast
  #     - name: segment-routing/mpls/sr-prefer
  #       value: true
